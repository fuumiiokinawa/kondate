<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#ffffff">
<title>ä»Šæ—¥ä½•ãŸã¹ã‚‹ï¼Ÿ</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg-primary: #faf9f7;
  --bg-secondary: #ffffff;
  --bg-card: #ffffff;
  --bg-card-hover: #f5f4f2;
  --text-primary: #2d2a26;
  --text-secondary: #5c5955;
  --text-muted: #8c8985;
  --gold: #b8860b;
  --gold-light: #d4a855;
  --gold-gradient: linear-gradient(135deg, #b8860b, #d4a855, #b8860b);
  --burgundy: #722f37;
  --burgundy-light: #8b3a42;
  --navy: #1a1a2e;
  --navy-light: #2d2d44;
  --border: rgba(184, 134, 11, 0.3);
  --border-light: rgba(0, 0, 0, 0.08);
  --shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
  --shadow-gold: 0 4px 20px rgba(184, 134, 11, 0.15);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Noto Sans JP', sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.7;
  min-height: 100vh;
}

.serif { font-family: 'Noto Serif JP', serif; }

/* ãƒ˜ãƒƒãƒ€ãƒ¼ */
.header {
  background: linear-gradient(180deg, #ffffff, var(--bg-primary));
  padding: 1.2rem 1rem;
  border-bottom: 1px solid var(--border-light);
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: blur(10px);
}

.header-content {
  max-width: 1000px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.logo-icon {
  width: 44px;
  height: 44px;
  background: var(--gold-gradient);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  box-shadow: var(--shadow-gold);
}

.logo-text {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.5rem;
  font-weight: 700;
  background: var(--gold-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: 0.05em;
}

.nav-tabs {
  display: flex;
  gap: 0.25rem;
  background: var(--bg-card);
  padding: 0.3rem;
  border-radius: 12px;
  border: 1px solid var(--border-light);
}

.nav-tab {
  padding: 0.6rem 1.2rem;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: 0.85rem;
  cursor: pointer;
  border-radius: 10px;
  font-family: inherit;
  font-weight: 500;
  transition: all 0.3s ease;
}

.nav-tab:hover { color: var(--text-primary); }

.nav-tab.active {
  background: var(--gold-gradient);
  color: var(--bg-primary);
  font-weight: 700;
}

/* ãƒ¡ã‚¤ãƒ³ */
.main {
  max-width: 1000px;
  margin: 0 auto;
  padding: 1.5rem 1rem;
}

.section { display: none; }
.section.active { display: block; }

/* ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒãƒ¼ */
.control-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.month-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--gold);
  letter-spacing: 0.05em;
}

.controls-right {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  flex-wrap: wrap;
}

/* äººæ•°é¸æŠ */
.people-selector {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: var(--bg-card);
  padding: 0.4rem 0.8rem;
  border-radius: 10px;
  border: 1px solid var(--border);
}

.people-selector label {
  font-size: 0.8rem;
  color: var(--text-secondary);
}

.people-selector select {
  background: transparent;
  border: none;
  color: var(--gold);
  font-size: 1rem;
  font-weight: 700;
  font-family: inherit;
  cursor: pointer;
  outline: none;
}

.people-selector select option {
  background: var(--bg-card);
  color: var(--text-primary);
}

/* ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ */
.view-switch {
  display: flex;
  gap: 0.2rem;
  background: var(--bg-card);
  padding: 0.25rem;
  border-radius: 10px;
  border: 1px solid var(--border-light);
}

.view-btn {
  padding: 0.5rem 0.9rem;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: 0.85rem;
  cursor: pointer;
  border-radius: 8px;
  font-family: inherit;
  font-weight: 500;
  transition: all 0.3s ease;
}

.view-btn.active {
  background: var(--burgundy);
  color: var(--gold-light);
}

/* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
.month-nav {
  display: flex;
  gap: 0.3rem;
}

.month-nav button {
  width: 40px;
  height: 40px;
  border: 1px solid var(--border);
  background: var(--bg-card);
  border-radius: 10px;
  cursor: pointer;
  color: var(--gold);
  font-size: 1rem;
  transition: all 0.3s ease;
}

.month-nav button:hover {
  background: var(--burgundy);
  border-color: var(--burgundy);
}

/* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ */
.calendar {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
}

.weekday {
  text-align: center;
  font-size: 0.8rem;
  color: var(--text-muted);
  padding: 0.6rem;
  font-weight: 500;
}

.weekday:first-child { color: #e57373; }
.weekday:last-child { color: #64b5f6; }

.day {
  background: var(--bg-card);
  border-radius: 12px;
  padding: 0.6rem;
  min-height: 90px;
  cursor: pointer;
  border: 1px solid var(--border-light);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.day::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: transparent;
  transition: background 0.3s ease;
}

.day:hover {
  background: var(--bg-card-hover);
  border-color: var(--border);
  transform: translateY(-2px);
  box-shadow: var(--shadow);
}

.day:hover::before {
  background: var(--gold-gradient);
}

.day.empty {
  background: transparent;
  border: none;
  cursor: default;
}

.day.empty:hover {
  transform: none;
  box-shadow: none;
}

.day.past {
  opacity: 0.5;
  background: var(--bg-primary);
}

.day.past::before {
  background: var(--text-muted);
}

.day.past:hover {
  opacity: 0.7;
}

.day-done {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.8rem;
  color: var(--gold);
  opacity: 0.3;
  font-weight: 700;
  pointer-events: none;
}

.day.today {
  border: 2px solid var(--gold);
  box-shadow: var(--shadow-gold);
}

.day.today::before {
  background: var(--gold-gradient);
}

.day-num {
  font-weight: 700;
  margin-bottom: 0.3rem;
  color: var(--text-primary);
  font-size: 0.95rem;
}

.day-menu {
  font-size: 0.7rem;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.day-cal {
  font-size: 0.65rem;
  color: var(--gold);
  margin-top: 0.3rem;
}

/* é€±è¡¨ç¤º */
.week-view { display: none; }
.week-view.active { display: block; }

.week-grid {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.week-card {
  background: var(--bg-card);
  border-radius: 16px;
  padding: 1.2rem;
  cursor: pointer;
  border: 1px solid var(--border-light);
  transition: all 0.3s ease;
}

.week-card:hover {
  background: var(--bg-card-hover);
  border-color: var(--gold);
  box-shadow: var(--shadow-gold);
}

.week-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--border-light);
}

.week-card-date {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--gold);
}

.week-card-day {
  font-size: 0.85rem;
  color: var(--text-secondary);
  padding: 0.3rem 0.8rem;
  background: var(--bg-primary);
  border-radius: 6px;
}

.week-card-day.sun { color: #e57373; }
.week-card-day.sat { color: #64b5f6; }

.week-card-menu {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.6rem;
}

.week-menu-item {
  padding: 0.6rem;
  background: var(--bg-primary);
  border-radius: 8px;
  border-left: 3px solid var(--gold);
}

.week-menu-label {
  font-size: 0.7rem;
  color: var(--text-muted);
  margin-bottom: 0.2rem;
}

.week-menu-name {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 0.9rem;
}

.week-card-footer {
  margin-top: 1rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-light);
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 0.5rem;
}

.week-cal {
  font-size: 0.85rem;
  color: var(--gold);
  font-weight: 600;
}

.week-cal-percent {
  font-size: 0.75rem;
  color: var(--text-muted);
}

/* æ—¥è¡¨ç¤º */
.day-view { display: none; }
.day-view.active { display: block; }

.day-detail {
  background: var(--bg-card);
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.day-detail-header {
  padding: 2rem;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  text-align: center;
  position: relative;
}

.day-detail-header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 1px;
  background: var(--gold-gradient);
}

.day-detail-date {
  font-family: 'Noto Serif JP', serif;
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--gold-light);
  letter-spacing: 0.05em;
}

.day-detail-weekday {
  font-size: 1.1rem;
  color: rgba(255,255,255,0.8);
  margin-top: 0.3rem;
}

.day-detail-nav {
  display: flex;
  justify-content: space-between;
  padding: 1rem;
  background: var(--bg-primary);
}

.day-nav-btn {
  padding: 0.7rem 1.5rem;
  border: 1px solid var(--border);
  background: var(--bg-card);
  border-radius: 10px;
  cursor: pointer;
  color: var(--text-primary);
  font-family: inherit;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.day-nav-btn:hover {
  background: var(--burgundy);
  border-color: var(--burgundy);
  color: var(--gold-light);
}

.day-detail-content {
  padding: 1.5rem;
}

.day-menu-card {
  background: var(--bg-primary);
  border-radius: 14px;
  padding: 1.2rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-light);
  position: relative;
  overflow: hidden;
}

.day-menu-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: var(--gold-gradient);
}

.day-menu-label {
  font-size: 0.8rem;
  color: var(--text-muted);
  margin-bottom: 0.4rem;
}

.day-menu-name {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.3rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.3rem;
}

.day-menu-cal {
  font-size: 0.85rem;
  color: var(--gold);
}

.day-total-cal {
  background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
  border: 1px solid var(--gold);
  border-radius: 14px;
  padding: 1.2rem;
  text-align: center;
  margin-top: 1.5rem;
}

.day-total-label {
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
}

.day-total-value {
  font-family: 'Noto Serif JP', serif;
  font-size: 2rem;
  font-weight: 700;
  color: var(--gold);
}

.day-total-percent {
  font-size: 0.9rem;
  color: var(--text-muted);
  margin-top: 0.3rem;
}

/* ãƒ‘ãƒãƒ« */
.panel {
  position: fixed;
  right: -100%;
  top: 0;
  width: 100%;
  max-width: 420px;
  height: 100vh;
  background: #ffffff;
  box-shadow: -4px 0 30px rgba(0,0,0,0.15);
  transition: right 0.3s ease;
  z-index: 200;
  overflow-y: auto;
}

.panel.open { right: 0; }

.panel-header {
  padding: 1.5rem;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  color: white;
  position: relative;
}

.panel-header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 1.5rem;
  right: 1.5rem;
  height: 1px;
  background: var(--gold-gradient);
}

.panel-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 36px;
  height: 36px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
  color: white;
  cursor: pointer;
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

.panel-close:hover {
  background: rgba(255,255,255,0.2);
}

.panel-date {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--gold-light);
}

.panel-sub {
  color: rgba(255,255,255,0.7);
  font-size: 0.85rem;
  margin-top: 0.3rem;
}

/* ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´ãƒœã‚¿ãƒ³ */
.genre-box {
  background: linear-gradient(135deg, rgba(212,175,55,0.1), var(--bg-primary));
  border: 1px solid var(--gold);
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.genre-title {
  font-size: 0.85rem;
  color: var(--gold);
  margin-bottom: 0.6rem;
  font-weight: 600;
}

.genre-btns {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.genre-btn {
  padding: 0.6rem 0.9rem;
  border: none;
  border-radius: 8px;
  font-size: 0.8rem;
  cursor: pointer;
  color: white;
  font-weight: 600;
  font-family: inherit;
  transition: all 0.2s ease;
}

.genre-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.genre-btn.wa { background: linear-gradient(135deg, #c62828, #e53935); }
.genre-btn.ch { background: linear-gradient(135deg, #ef6c00, #ff9800); }
.genre-btn.we { background: linear-gradient(135deg, #1565c0, #1e88e5); }
.genre-btn.me { background: linear-gradient(135deg, #6a1b9a, #8e24aa); }
.genre-btn.ra { background: linear-gradient(135deg, #37474f, #546e7a); }

.panel-content {
  padding: 1.5rem;
}

.panel-cal-summary {
  background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
  border: 1px solid var(--gold);
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 1.5rem;
  text-align: center;
}

.panel-cal-value {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--gold);
}

.panel-cal-label {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.dish-card {
  background: var(--bg-card);
  border-radius: 12px;
  padding: 1rem;
  margin-bottom: 0.75rem;
  border: 1px solid var(--border-light);
}

.dish-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
}

.dish-name {
  font-weight: 600;
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.dish-tag {
  font-size: 0.65rem;
  padding: 0.15rem 0.4rem;
  border-radius: 4px;
  font-weight: 500;
}

.dish-tag.main { background: rgba(212,175,55,0.2); color: var(--gold); }
.dish-tag.side { background: rgba(107,143,113,0.2); color: #8fbc8f; }
.dish-tag.soup { background: rgba(100,181,246,0.2); color: #64b5f6; }
.dish-tag.salad { background: rgba(129,199,132,0.2); color: #81c784; }

.dish-cal {
  font-size: 0.85rem;
  color: var(--gold);
  font-weight: 600;
}

.dish-toggle {
  color: var(--text-muted);
  transition: transform 0.3s;
  font-size: 0.8rem;
}

.dish-toggle.open { transform: rotate(180deg); }

.recipe {
  display: none;
  margin-top: 0.8rem;
  padding-top: 0.8rem;
  border-top: 1px solid var(--border-light);
  font-size: 0.85rem;
}

.recipe.open { display: block; }

.recipe-link {
  display: inline-block;
  padding: 0.6rem 1rem;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  color: var(--gold-light);
  text-decoration: none;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 0.8rem;
  transition: all 0.3s ease;
}

.recipe-link:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(114, 47, 55, 0.4);
}

.recipe-title {
  font-weight: 600;
  color: var(--gold);
  margin-bottom: 0.4rem;
  font-size: 0.8rem;
}

.recipe-text {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: 0.8rem;
}

.recipe-steps {
  padding-left: 1.2rem;
  color: var(--text-secondary);
  line-height: 1.8;
}

.recipe-steps li {
  margin-bottom: 0.4rem;
}

.recipe-steps li::marker {
  color: var(--gold);
  font-weight: 600;
}

/* ãƒ©ãƒ³ã‚­ãƒ³ã‚° */
.ranking-card {
  background: linear-gradient(135deg, var(--bg-card), var(--bg-secondary));
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  border: 1px solid var(--gold);
  box-shadow: var(--shadow-gold);
}

.ranking-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.2rem;
  font-weight: 700;
  color: var(--gold);
  margin-bottom: 1rem;
  text-align: center;
}

.ranking-list {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.ranking-item {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.8rem 1rem;
  background: var(--bg-primary);
  border-radius: 10px;
  border: 1px solid var(--border-light);
}

.ranking-item.gold {
  background: linear-gradient(135deg, rgba(212,175,55,0.2), var(--bg-primary));
  border-color: var(--gold);
}

.ranking-item.silver {
  background: linear-gradient(135deg, rgba(192,192,192,0.15), var(--bg-primary));
  border-color: #c0c0c0;
}

.ranking-item.bronze {
  background: linear-gradient(135deg, rgba(205,127,50,0.15), var(--bg-primary));
  border-color: #cd7f32;
}

.ranking-rank {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.3rem;
  font-weight: 700;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  flex-shrink: 0;
}

.ranking-item.gold .ranking-rank {
  background: var(--gold-gradient);
  color: var(--bg-primary);
}

.ranking-item.silver .ranking-rank {
  background: linear-gradient(135deg, #e8e8e8, #c0c0c0);
  color: var(--bg-primary);
}

.ranking-item.bronze .ranking-rank {
  background: linear-gradient(135deg, #dda15e, #cd7f32);
  color: var(--bg-primary);
}

.ranking-item:not(.gold):not(.silver):not(.bronze) .ranking-rank {
  background: var(--bg-card);
  color: var(--text-secondary);
  border: 1px solid var(--border);
}

.ranking-name {
  flex: 1;
  font-weight: 600;
  color: var(--text-primary);
}

.ranking-wins {
  font-size: 0.85rem;
  color: var(--gold);
  font-weight: 600;
}

.ranking-empty {
  text-align: center;
  color: var(--text-muted);
  padding: 1rem;
}

/* ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½ */
.request-card {
  background: var(--bg-card);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-light);
}

.request-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--gold);
  margin-bottom: 1rem;
}

.request-form {
  margin-bottom: 1rem;
}

.request-row {
  margin-bottom: 0.8rem;
}

.request-row label {
  display: block;
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 0.4rem;
}

.request-select,
.request-input {
  width: 100%;
  padding: 0.8rem 1rem;
  background: var(--bg-primary);
  border: 1px solid var(--border);
  border-radius: 10px;
  color: var(--text-primary);
  font-size: 1rem;
  font-family: inherit;
}

.request-select:focus,
.request-input:focus {
  outline: none;
  border-color: var(--gold);
}

.request-input::placeholder {
  color: var(--text-muted);
}

.request-btn {
  width: 100%;
  padding: 1rem;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  color: var(--gold-light);
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.3s ease;
}

.request-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(114, 47, 55, 0.4);
}

.request-list {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.request-item {
  background: var(--bg-primary);
  border-radius: 12px;
  padding: 1rem;
  border: 1px solid var(--border-light);
  position: relative;
}

.request-item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.request-item-date {
  font-size: 0.8rem;
  color: var(--gold);
  font-weight: 600;
  background: rgba(212,175,55,0.15);
  padding: 0.2rem 0.6rem;
  border-radius: 4px;
}

.request-item-user {
  font-size: 0.8rem;
  color: var(--text-muted);
}

.request-item-text {
  font-size: 1rem;
  color: var(--text-primary);
  font-weight: 500;
}

.request-item-content {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.request-item-genre {
  font-size: 0.75rem;
  color: var(--text-secondary);
  background: var(--bg-card);
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

.request-apply-btn {
  width: 100%;
  padding: 0.6rem;
  margin-top: 0.8rem;
  background: linear-gradient(135deg, rgba(212,175,55,0.2), rgba(212,175,55,0.1));
  color: var(--gold);
  border: 1px solid var(--gold);
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.2s ease;
}

.request-apply-btn:hover {
  background: linear-gradient(135deg, rgba(212,175,55,0.3), rgba(212,175,55,0.2));
}

.request-item-delete {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  width: 24px;
  height: 24px;
  background: var(--burgundy);
  color: var(--gold-light);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.7rem;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.7;
  transition: opacity 0.2s;
}

.request-item-delete:hover {
  opacity: 1;
}

.request-empty {
  text-align: center;
  color: var(--text-muted);
  padding: 1rem;
  font-size: 0.9rem;
}

/* æŠ•ç¥¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.vote-card {
  background: var(--bg-card);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  border: 1px solid var(--border-light);
}

.vote-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--gold);
}

.vote-form-row {
  margin-bottom: 1rem;
}

.vote-form-row label {
  display: block;
  font-size: 0.85rem;
  color: var(--text-secondary);
  margin-bottom: 0.4rem;
}

.vote-form-row select {
  width: 100%;
  padding: 0.9rem;
  background: var(--bg-primary);
  border: 1px solid var(--border);
  border-radius: 10px;
  color: var(--text-primary);
  font-size: 1rem;
  font-family: inherit;
  cursor: pointer;
}

.vote-option-row {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.vote-option-row select {
  flex: 1;
  padding: 0.9rem;
  background: var(--bg-primary);
  border: 1px solid var(--border);
  border-radius: 10px;
  color: var(--text-primary);
  font-size: 1rem;
  font-family: inherit;
  cursor: pointer;
}

.shuffle-btn {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.shuffle-btn:hover {
  transform: rotate(180deg) scale(1.1);
  box-shadow: 0 4px 12px rgba(114, 47, 55, 0.4);
}

.vote-btn {
  width: 100%;
  padding: 1rem;
  background: var(--gold-gradient);
  color: var(--bg-primary);
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  box-shadow: var(--shadow-gold);
  transition: all 0.3s ease;
}

.vote-btn:hover {
  transform: translateY(-2px);
}

.line-btn {
  width: 100%;
  padding: 1rem;
  margin-top: 0.75rem;
  background: linear-gradient(135deg, #06C755, #00B900);
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  transition: all 0.3s ease;
}

.line-btn:hover {
  transform: translateY(-2px);
}

.vote-option {
  background: var(--bg-primary);
  border: 2px solid var(--border);
  border-radius: 14px;
  padding: 1.2rem;
  margin-bottom: 0.75rem;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

.vote-option:hover {
  border-color: var(--gold);
}

.vote-option.winner {
  border-color: var(--gold);
  background: linear-gradient(135deg, rgba(212,175,55,0.1), var(--bg-primary));
}

.vote-option-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.4rem;
}

.vote-option-label {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--gold);
}

.vote-option-count {
  font-size: 0.85rem;
  color: var(--text-muted);
}

.vote-option-name {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 0.3rem;
}

.vote-option-sub {
  font-size: 0.85rem;
  color: var(--text-secondary);
}

.vote-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 4px;
  background: var(--gold-gradient);
  transition: width 0.5s ease;
}

.voters {
  display: flex;
  gap: 0.3rem;
  margin-top: 0.75rem;
  flex-wrap: wrap;
}

.voter {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  color: white;
}

.vote-result {
  background: linear-gradient(135deg, rgba(212,175,55,0.15), rgba(212,175,55,0.05));
  border: 1px solid var(--gold);
  border-radius: 12px;
  padding: 1rem;
  text-align: center;
  color: var(--gold);
  font-weight: 700;
}

.vote-pending {
  background: var(--bg-primary);
  border-radius: 10px;
  padding: 1rem;
  text-align: center;
  color: var(--text-muted);
}

.apply-btn {
  width: 100%;
  padding: 0.8rem;
  margin-top: 0.6rem;
  background: linear-gradient(135deg, var(--burgundy), var(--burgundy-light));
  color: var(--gold-light);
  border: none;
  border-radius: 10px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.3s ease;
}

.apply-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(114, 47, 55, 0.4);
}

/* è²·ã„ç‰©ãƒªã‚¹ãƒˆ */
.shopping-header {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  margin-bottom: 1.5rem;
  align-items: center;
}

.shopping-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--gold);
}

.week-btns {
  display: flex;
  gap: 0.3rem;
}

.week-btn {
  padding: 0.5rem 1rem;
  border: 1px solid var(--border);
  background: var(--bg-card);
  border-radius: 8px;
  font-size: 0.85rem;
  cursor: pointer;
  color: var(--text-secondary);
  font-family: inherit;
  transition: all 0.3s ease;
}

.week-btn.active {
  background: var(--burgundy);
  color: var(--gold-light);
  border-color: var(--burgundy);
}

.copy-btn {
  padding: 0.5rem 1rem;
  background: var(--gold-gradient);
  color: var(--bg-primary);
  border: none;
  border-radius: 8px;
  font-size: 0.85rem;
  cursor: pointer;
  font-weight: 600;
  font-family: inherit;
}

.reset-btn {
  padding: 0.5rem 1rem;
  background: var(--burgundy);
  color: var(--gold-light);
  border: none;
  border-radius: 8px;
  font-size: 0.85rem;
  cursor: pointer;
  font-weight: 600;
  font-family: inherit;
  transition: all 0.3s ease;
}

.reset-btn:hover {
  background: var(--burgundy-light);
}

/* ãƒ¡ãƒ¢è¿½åŠ  */
.memo-section {
  background: var(--bg-card);
  border-radius: 14px;
  padding: 1rem;
  margin-bottom: 1.5rem;
  border: 1px solid var(--border-light);
}

.memo-title {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--gold);
  margin-bottom: 0.8rem;
}

.memo-input-row {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.8rem;
}

.memo-input {
  flex: 1;
  padding: 0.7rem 1rem;
  background: var(--bg-primary);
  border: 1px solid var(--border);
  border-radius: 8px;
  color: var(--text-primary);
  font-size: 0.95rem;
  font-family: inherit;
}

.memo-input:focus {
  outline: none;
  border-color: var(--gold);
}

.memo-input::placeholder {
  color: var(--text-muted);
}

.memo-add-btn {
  padding: 0.7rem 1.2rem;
  background: var(--gold-gradient);
  color: var(--bg-primary);
  border: none;
  border-radius: 8px;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  font-family: inherit;
  white-space: nowrap;
}

.memo-list {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
}

.memo-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.6rem 0.8rem;
  background: var(--bg-primary);
  border-radius: 8px;
  border: 1px solid var(--border-light);
}

.memo-item-name {
  flex: 1;
  color: var(--text-primary);
}

.memo-item-delete {
  width: 28px;
  height: 28px;
  background: var(--burgundy);
  color: var(--gold-light);
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.8rem;
  display: flex;
  align-items: center;
  justify-content: center;
}

.memo-item-delete:hover {
  background: var(--burgundy-light);
}

.flyer-section {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: var(--bg-card);
  border-radius: 12px;
  border: 1px solid var(--border-light);
}

.flyer-label {
  font-size: 0.9rem;
  color: var(--text-secondary);
}

.flyer-btn {
  padding: 0.5rem 0.9rem;
  border-radius: 8px;
  font-size: 0.8rem;
  text-decoration: none;
  color: white;
  font-weight: 600;
  transition: all 0.3s ease;
}

.flyer-btn:hover { transform: translateY(-2px); }
.flyer-btn.sana { background: linear-gradient(135deg, #e60012, #ff4444); }
.flyer-btn.kane { background: linear-gradient(135deg, #00a650, #00c853); }
.flyer-btn.maxv { background: linear-gradient(135deg, #ff6600, #ff9800); }

.price-estimate {
  background: linear-gradient(135deg, rgba(212,175,55,0.1), var(--bg-card));
  border: 1px solid var(--gold);
  border-radius: 14px;
  padding: 1.2rem;
  margin-bottom: 1.5rem;
}

.price-title {
  font-family: 'Noto Serif JP', serif;
  font-weight: 700;
  font-size: 1rem;
  margin-bottom: 0.75rem;
  color: var(--gold);
}

.price-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.4rem;
  font-size: 0.9rem;
}

.price-item {
  display: flex;
  justify-content: space-between;
  padding: 0.3rem 0;
  border-bottom: 1px solid var(--border-light);
  color: var(--text-secondary);
}

.price-total {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 2px solid var(--gold);
  font-weight: 700;
  font-size: 1.1rem;
  text-align: right;
  color: var(--gold);
}

.shop-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem;
}

.cat-card {
  background: var(--bg-card);
  border-radius: 14px;
  overflow: hidden;
  border: 1px solid var(--border-light);
}

.cat-header {
  padding: 0.9rem 1rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.95rem;
  border-bottom: 1px solid var(--border-light);
}

.cat-header.meat { background: linear-gradient(135deg, rgba(212,175,55,0.2), var(--bg-card)); color: var(--gold); }
.cat-header.fish { background: linear-gradient(135deg, rgba(100,181,246,0.2), var(--bg-card)); color: #64b5f6; }
.cat-header.veg { background: linear-gradient(135deg, rgba(129,199,132,0.2), var(--bg-card)); color: #81c784; }
.cat-header.dairy { background: linear-gradient(135deg, rgba(255,224,130,0.2), var(--bg-card)); color: #ffe082; }
.cat-header.season { background: linear-gradient(135deg, rgba(206,147,216,0.2), var(--bg-card)); color: #ce93d8; }
.cat-header.other { background: linear-gradient(135deg, rgba(176,190,197,0.2), var(--bg-card)); color: #b0bec5; }

.cat-items { padding: 0.5rem 1rem; }

.shop-item {
  display: flex;
  align-items: center;
  padding: 0.6rem 0;
  border-bottom: 1px solid var(--border-light);
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.shop-item.checked {
  opacity: 0;
  height: 0;
  padding: 0;
  margin: 0;
  overflow: hidden;
  border: none;
}

.shop-item:last-child { border: none; }

.item-check {
  width: 22px;
  height: 22px;
  border: 2px solid var(--border);
  border-radius: 6px;
  margin-right: 0.75rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  flex-shrink: 0;
  transition: all 0.3s ease;
}

.item-check.checked {
  background: var(--gold);
  border-color: var(--gold);
  color: var(--bg-primary);
}

.item-name { flex: 1; color: var(--text-primary); }
.item-name.checked { text-decoration: line-through; color: var(--text-muted); }

.item-amt {
  font-size: 0.8rem;
  color: var(--text-muted);
  background: var(--bg-primary);
  padding: 0.2rem 0.5rem;
  border-radius: 6px;
}

/* ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  opacity: 0;
  visibility: hidden;
  z-index: 150;
  transition: all 0.3s ease;
}

.overlay.active {
  opacity: 1;
  visibility: visible;
}

/* ãƒˆãƒ¼ã‚¹ãƒˆ */
.toast {
  position: fixed;
  bottom: 1.5rem;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: var(--burgundy);
  color: white;
  padding: 1rem 1.5rem;
  border-radius: 12px;
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 300;
  font-weight: 600;
  box-shadow: var(--shadow);
}

.toast.show {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
}

/* ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š */
.user-setup {
  background: var(--bg-card);
  border-radius: 20px;
  padding: 2.5rem;
  margin-bottom: 1.5rem;
  text-align: center;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.user-title {
  font-family: 'Noto Serif JP', serif;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--gold);
  margin-bottom: 0.5rem;
}

.user-subtitle {
  color: var(--text-secondary);
  margin-bottom: 1.5rem;
}

.user-input {
  width: 100%;
  max-width: 300px;
  padding: 1rem;
  border: 2px solid var(--border);
  border-radius: 12px;
  font-size: 1.1rem;
  text-align: center;
  margin-bottom: 1.5rem;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: inherit;
  transition: border-color 0.3s ease;
}

.user-input:focus {
  outline: none;
  border-color: var(--gold);
}

.user-btn {
  padding: 1rem 3rem;
  background: var(--gold-gradient);
  color: var(--bg-primary);
  border: none;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  box-shadow: var(--shadow-gold);
  transition: all 0.3s ease;
}

.user-btn:hover {
  transform: translateY(-2px);
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
@media (max-width: 600px) {
  .header-content {
    flex-direction: column;
    align-items: stretch;
  }
  
  .nav-tabs {
    justify-content: center;
  }
  
  .control-bar {
    flex-direction: column;
    align-items: stretch;
  }
  
  .controls-right {
    justify-content: space-between;
  }
  
  .calendar { gap: 3px; }
  
  .day {
    min-height: 70px;
    padding: 0.4rem;
  }
  
  .day-num { font-size: 0.85rem; }
  .day-menu { font-size: 0.6rem; }
  
  .week-card-menu {
    grid-template-columns: 1fr;
  }
  
  .price-grid {
    grid-template-columns: 1fr;
  }
}
</style>
</head>
<body>

<header class="header">
  <div class="header-content">
    <div class="logo">
      <div class="logo-icon">ğŸ½ï¸</div>
      <span class="logo-text">ä»Šæ—¥ä½•ãŸã¹ã‚‹ï¼Ÿ</span>
    </div>
    <nav class="nav-tabs">
      <button class="nav-tab active" data-tab="calendar">ğŸ“… çŒ®ç«‹</button>
      <button class="nav-tab" data-tab="vote">ğŸ—³ï¸ æŠ•ç¥¨</button>
      <button class="nav-tab" data-tab="shopping">ğŸ›’ è²·ã„ç‰©</button>
    </nav>
  </div>
</header>

<main class="main">
  <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š -->
  <div class="user-setup" id="userSetup" style="display:none;">
    <div class="user-title">ã‚ˆã†ã“ã</div>
    <div class="user-subtitle">ã‚ãªãŸã®ãŠåå‰ã‚’æ•™ãˆã¦ãã ã•ã„</div>
    <input type="text" class="user-input" id="userName" placeholder="ä¾‹ï¼šãƒ‘ãƒ‘ã€ãƒãƒã€å¤ªéƒ">
    <br>
    <button class="user-btn" onclick="saveUser()">ã¯ã˜ã‚ã‚‹</button>
  </div>

  <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="section active" id="calendar">
    <div class="control-bar">
      <h2 class="month-title serif" id="monthTitle">2026å¹´1æœˆ</h2>
      <div class="controls-right">
        <div class="people-selector">
          <label>äººæ•°</label>
          <select id="peopleCount" onchange="updatePeopleCount()">
            <option value="1">1äºº</option>
            <option value="2">2äºº</option>
            <option value="3">3äºº</option>
            <option value="4">4äºº</option>
            <option value="5">5äºº</option>
            <option value="6" selected>6äºº</option>
            <option value="7">7äºº</option>
            <option value="8">8äºº</option>
            <option value="9">9äºº</option>
            <option value="10">10äºº</option>
          </select>
        </div>
        <div class="view-switch">
          <button class="view-btn" data-view="day">æ—¥</button>
          <button class="view-btn" data-view="week">é€±</button>
          <button class="view-btn active" data-view="month">æœˆ</button>
        </div>
        <div class="month-nav">
          <button id="prevNav">â—€</button>
          <button id="nextNav">â–¶</button>
        </div>
      </div>
    </div>

    <div id="monthView">
      <div class="calendar" id="calendarGrid">
        <div class="weekday">æ—¥</div>
        <div class="weekday">æœˆ</div>
        <div class="weekday">ç«</div>
        <div class="weekday">æ°´</div>
        <div class="weekday">æœ¨</div>
        <div class="weekday">é‡‘</div>
        <div class="weekday">åœŸ</div>
      </div>
    </div>

    <div class="week-view" id="weekView"></div>
    <div class="day-view" id="dayView"></div>
  </section>

  <!-- æŠ•ç¥¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="section" id="vote">
    <div class="ranking-card" id="rankingCard">
      <div class="ranking-title">ğŸ† äººæ°—ãƒ¬ã‚·ãƒ”ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div>
      <div class="ranking-list" id="rankingList"></div>
    </div>
    
    <!-- ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½ -->
    <div class="request-card">
      <div class="request-title">ğŸ™‹ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</div>
      <div class="request-form">
        <div class="request-row">
          <label>ã„ã¤ã®çŒ®ç«‹ï¼Ÿ</label>
          <select id="requestDate" class="request-select"></select>
        </div>
        <div class="request-row">
          <label>ã‚¸ãƒ£ãƒ³ãƒ«</label>
          <select id="requestGenre" class="request-select" onchange="updateRequestMenuOptions()">
            <option value="">-- é¸æŠã—ã¦ãã ã•ã„ --</option>
            <option value="japanese">ğŸ± å’Œé£Ÿ</option>
            <option value="chinese">ğŸ¥Ÿ ä¸­è¯</option>
            <option value="western">ğŸ³ æ´‹é£Ÿ</option>
            <option value="noodle">ğŸœ éººãƒ»ä¸¼</option>
          </select>
        </div>
        <div class="request-row">
          <label>é£Ÿã¹ãŸã„ãƒ¡ãƒ‹ãƒ¥ãƒ¼</label>
          <select id="requestMenu" class="request-select" disabled>
            <option value="">-- ã¾ãšã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ --</option>
          </select>
        </div>
        <button class="request-btn" onclick="submitRequest()">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹</button>
      </div>
      <div class="request-list" id="requestList"></div>
    </div>
    
    <div class="vote-card">
      <div class="vote-title">ğŸ—³ï¸ æ–°ã—ã„æŠ•ç¥¨ã‚’ä½œæˆ</div>
      <div class="vote-form-row">
        <label>ã„ã¤ã®çŒ®ç«‹ï¼Ÿ</label>
        <select id="voteDate"></select>
      </div>
      <div class="vote-form-row">
        <label>å€™è£œ A</label>
        <div class="vote-option-row">
          <select id="optionA"></select>
          <button class="shuffle-btn" onclick="shuffleOption('A')" title="ã‚·ãƒ£ãƒƒãƒ•ãƒ«">ğŸ²</button>
        </div>
      </div>
      <div class="vote-form-row">
        <label>å€™è£œ B</label>
        <div class="vote-option-row">
          <select id="optionB"></select>
          <button class="shuffle-btn" onclick="shuffleOption('B')" title="ã‚·ãƒ£ãƒƒãƒ•ãƒ«">ğŸ²</button>
        </div>
      </div>
      <button class="vote-btn" onclick="createVote()">æŠ•ç¥¨ã‚’ä½œæˆ</button>
      <button class="line-btn" onclick="shareToLine()">ğŸ“± LINEã§å®¶æ—ã«å…±æœ‰</button>
    </div>
    <div id="voteList"></div>
  </section>

  <!-- è²·ã„ç‰©ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <section class="section" id="shopping">
    <div class="shopping-header">
      <h2 class="shopping-title">ğŸ›’ è²·ã„ç‰©ãƒªã‚¹ãƒˆ</h2>
      <div class="week-btns">
        <button class="week-btn active" data-week="1">ç¬¬1é€±</button>
        <button class="week-btn" data-week="2">ç¬¬2é€±</button>
        <button class="week-btn" data-week="3">ç¬¬3é€±</button>
        <button class="week-btn" data-week="4">ç¬¬4é€±</button>
      </div>
      <button class="copy-btn" onclick="copyList()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
      <button class="reset-btn" id="resetChecked" onclick="resetCheckedItems()" style="display:none;">ğŸ”„ ãƒªã‚»ãƒƒãƒˆ</button>
    </div>
    
    <!-- ãƒ¡ãƒ¢è¿½åŠ ã‚¨ãƒªã‚¢ -->
    <div class="memo-section">
      <div class="memo-title">ğŸ“ ãƒ¡ãƒ¢ã‚’è¿½åŠ </div>
      <div class="memo-input-row">
        <input type="text" class="memo-input" id="memoInput" placeholder="è¿½åŠ ã—ãŸã„è²·ã„ç‰©ã‚’å…¥åŠ›...">
        <button class="memo-add-btn" onclick="addMemo()">è¿½åŠ </button>
      </div>
      <div class="memo-list" id="memoList"></div>
    </div>
    <div class="flyer-section">
      <span class="flyer-label">ğŸ“„ ãƒãƒ©ã‚·</span>
      <a href="https://www.san-a.co.jp/flyer/" target="_blank" class="flyer-btn sana">ã‚µãƒ³ã‚¨ãƒ¼</a>
      <a href="https://www.kanehideshj.com/flyer/" target="_blank" class="flyer-btn kane">ã‹ã­ã²ã§</a>
      <a href="https://www.aeon-ryukyu.jp/flyer/" target="_blank" class="flyer-btn maxv">ãƒãƒƒã‚¯ã‚¹ãƒãƒªãƒ¥</a>
    </div>
    <div class="price-estimate" id="priceEstimate"></div>
    <div class="shop-grid" id="shopGrid"></div>
  </section>
</main>

<div class="panel" id="panel">
  <button class="panel-close" id="closePanel">âœ•</button>
  <div class="panel-header">
    <div class="panel-date" id="panelDate">1æœˆ1æ—¥</div>
    <div class="panel-sub" id="panelSub">6äººå‰</div>
  </div>
  <div class="panel-content" id="panelContent"></div>
</div>

<div class="overlay" id="overlay"></div>
<div class="toast" id="toast"></div>

<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

<script>
// =====================
// Firebaseè¨­å®šï¼ˆå¾Œã§å…¥åŠ›ï¼‰
// =====================
const firebaseConfig = {
  apiKey: "AIzaSyCbNkaIgRLdXTygsw5wEnCuqzIBQcX9QgU",
  authDomain: "kondate-family.firebaseapp.com",
  databaseURL: "https://kondate-family-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "kondate-family",
  storageBucket: "kondate-family.firebasestorage.app",
  messagingSenderId: "562129935413",
  appId: "1:562129935413:web:c9fa77f0271cbb0f92e57c"
};

let db = null;
let firebaseEnabled = false;

// FirebaseåˆæœŸåŒ–ã‚’è©¦ã¿ã‚‹
try {
  if(firebaseConfig.apiKey !== "YOUR_API_KEY") {
    firebase.initializeApp(firebaseConfig);
    db = firebase.database();
    firebaseEnabled = true;
  }
} catch(e) {
  console.log('Firebase not configured');
}

// =====================
// ãƒ‡ãƒ¼ã‚¿å®šç¾©
// =====================
const WEEKDAYS = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
const DAILY_CALORIE_TARGET = 2000;

// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ã‚«ãƒ­ãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆ1äººå‰ï¼‰
const MENUS = {
  1:{main:"é¶ã®ç…§ã‚Šç„¼ã",side:"ã»ã†ã‚Œã‚“è‰ã®ã”ã¾å’Œãˆ",soup:"è±†è…ã¨ã‚ã‹ã‚ã®å‘³å™Œæ±",salad:"ã‚­ãƒ£ãƒ™ãƒ„ã®å¡©æ˜†å¸ƒã‚µãƒ©ãƒ€",cal:{main:320,side:45,soup:55,salad:35}},
  2:{main:"è±šã®ç”Ÿå§œç„¼ã",side:"ãã‚“ã´ã‚‰ã”ã¼ã†",soup:"ãªã‚ã“ã®å‘³å™Œæ±",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€",cal:{main:380,side:85,soup:40,salad:25}},
  3:{main:"é®­ã®ãƒ ãƒ‹ã‚¨ãƒ«",side:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã®ãŠã‹ã‹å’Œãˆ",soup:"åµã‚¹ãƒ¼ãƒ—",salad:"ãƒˆãƒãƒˆã¨ãã‚…ã†ã‚Šã®ã‚µãƒ©ãƒ€",cal:{main:290,side:50,soup:70,salad:40}},
  4:{main:"è‚‰ã˜ã‚ƒãŒ",side:"å°æ¾èœã®ãŠã²ãŸã—",soup:"å¤§æ ¹ã®å‘³å™Œæ±",salad:"ã‚‚ã‚„ã—ã®ãƒŠãƒ ãƒ«",cal:{main:350,side:30,soup:45,salad:50}},
  5:{main:"éº»å©†è±†è…",side:"æ˜¥é›¨ã‚µãƒ©ãƒ€",soup:"ä¸­è¯ã‚¹ãƒ¼ãƒ—",salad:"ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘",cal:{main:310,side:95,soup:35,salad:15}},
  6:{main:"ã‚«ãƒ¬ã‚¤ã®ç…®ä»˜ã‘",side:"ã²ã˜ãã®ç…®ç‰©",soup:"ã‚ã•ã‚Šã®å‘³å™Œæ±",salad:"ç™½èœã®æµ…æ¼¬ã‘",cal:{main:180,side:70,soup:50,salad:20}},
  7:{main:"ãƒãƒ³ãƒãƒ¼ã‚°",side:"ã‚³ãƒ¼ãƒ³ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—",salad:"ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€",cal:{main:450,side:180,soup:45,salad:30}},
  8:{main:"é¶ã®å”æšã’",side:"åµç„¼ã",soup:"è±šæ±",salad:"ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š",cal:{main:420,side:110,soup:120,salad:20}},
  9:{main:"è±šã‚­ãƒ ãƒ",side:"ãƒãƒ‚ãƒŸ",soup:"ã‚ã‹ã‚ã‚¹ãƒ¼ãƒ—",salad:"éŸ“å›½é¢¨ã‚µãƒ©ãƒ€",cal:{main:380,side:220,soup:30,salad:45}},
  10:{main:"ã‚µãƒã®å‘³å™Œç…®",side:"åˆ‡ã‚Šå¹²ã—å¤§æ ¹",soup:"ã—ã˜ã¿ã®å‘³å™Œæ±",salad:"é…¢ã®ç‰©",cal:{main:340,side:80,soup:35,salad:30}},
  11:{main:"å›é‹è‚‰",side:"é¤ƒå­",soup:"é…¸è¾£æ¹¯",salad:"ãƒãƒ³ãƒãƒ³ã‚¸ãƒ¼ã‚µãƒ©ãƒ€",cal:{main:350,side:280,soup:90,salad:120}},
  12:{main:"ãƒã‚­ãƒ³å—è›®",side:"ã‹ã¼ã¡ã‚ƒã®ç…®ç‰©",soup:"ã‚³ãƒ¼ãƒ³ã‚¹ãƒ¼ãƒ—",salad:"ã‚¿ãƒ«ã‚¿ãƒ«ã‚µãƒ©ãƒ€",cal:{main:520,side:95,soup:145,salad:85}},
  13:{main:"é’æ¤’è‚‰çµ²",side:"å†·å¥´",soup:"åµã¨ãƒˆãƒãƒˆã®ã‚¹ãƒ¼ãƒ—",salad:"ã‚¶ãƒ¼ã‚µã‚¤å’Œãˆ",cal:{main:280,side:80,soup:75,salad:25}},
  14:{main:"é¯–ã®å¡©ç„¼ã",side:"åšæšã’ã®ç…®ç‰©",soup:"ã‘ã‚“ã¡ã‚“æ±",salad:"ã»ã†ã‚Œã‚“è‰ã®ç™½å’Œãˆ",cal:{main:310,side:140,soup:95,salad:70}},
  15:{main:"ç‰›ä¸¼",side:"æ¸©æ³‰åµ",soup:"å‘³å™Œæ±",salad:"ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘",cal:{main:650,side:90,soup:45,salad:15}},
  16:{main:"é¶è‚‰ã¨ã‚­ãƒã‚³ã®ç‚’ã‚",side:"èŒ¶ç¢—è’¸ã—",soup:"ãã®ã“æ±",salad:"é’èœã®ãŠæµ¸ã—",cal:{main:280,side:95,soup:40,salad:25}},
  17:{main:"ã‚¨ãƒ“ãƒãƒª",side:"é’æ¢—èœã®ç‚’ã‚",soup:"ãƒ¯ãƒ³ã‚¿ãƒ³ã‚¹ãƒ¼ãƒ—",salad:"ãã‚…ã†ã‚Šã®ä¸­è¯å’Œãˆ",cal:{main:260,side:55,soup:110,salad:30}},
  18:{main:"ã¨ã‚“ã‹ã¤",side:"ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š",soup:"ãªã‚ã“æ±",salad:"ãƒã‚«ãƒ­ãƒ‹ã‚µãƒ©ãƒ€",cal:{main:490,side:20,soup:40,salad:220}},
  19:{main:"ã‚¢ã‚¸ã®å—è›®æ¼¬ã‘",side:"é‡ŒèŠ‹ã®ç…®ç‰©",soup:"ãŠå¸ã„ç‰©",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€",cal:{main:240,side:110,soup:25,salad:25}},
  20:{main:"ã‚ªãƒ ãƒ©ã‚¤ã‚¹",side:"ã‚¦ã‚¤ãƒ³ãƒŠãƒ¼ç‚’ã‚",soup:"é‡èœã‚¹ãƒ¼ãƒ—",salad:"ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼",cal:{main:580,side:190,soup:65,salad:95}},
  21:{main:"è¦ªå­ä¸¼",side:"å†·å¥´",soup:"èµ¤ã ã—",salad:"æ°´èœã‚µãƒ©ãƒ€",cal:{main:550,side:80,soup:50,salad:35}},
  22:{main:"é¶ã‚€ã­è‚‰ã®å‘³å™Œæ¼¬ã‘ç„¼ã",side:"ã‚Œã‚“ã“ã‚“ã®ãã‚“ã´ã‚‰",soup:"è±†è…ã®å‘³å™Œæ±",salad:"ã«ã‚“ã˜ã‚“ã—ã‚Šã—ã‚Š",cal:{main:220,side:95,soup:55,salad:75}},
  23:{main:"ã¶ã‚Šã®ç…§ã‚Šç„¼ã",side:"ç­‘å‰ç…®",soup:"ã‚ãŠã•ã®å‘³å™Œæ±",salad:"å¤§æ ¹ãªã¾ã™",cal:{main:340,side:145,soup:40,salad:35}},
  24:{main:"ç„¼ããã°",side:"ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ä¸­è¯ã‚¹ãƒ¼ãƒ—",salad:"ã‚‚ã‚„ã—ã®ä¸­è¯ã‚µãƒ©ãƒ€",cal:{main:470,side:170,soup:35,salad:45}},
  25:{main:"è±šã®è§’ç…®",side:"ç…®åµ",soup:"ç™½èœã®å‘³å™Œæ±",salad:"ã»ã†ã‚Œã‚“è‰ãƒŠãƒ ãƒ«",cal:{main:520,side:90,soup:50,salad:55}},
  26:{main:"é®­ã®ãƒ›ã‚¤ãƒ«ç„¼ã",side:"ã„ã‚“ã’ã‚“ã®èƒ¡éº»å’Œãˆ",soup:"ã‚­ãƒ£ãƒ™ãƒ„ã®å‘³å™Œæ±",salad:"ãƒãƒ³é…¢ãã®ã“",cal:{main:250,side:55,soup:45,salad:30}},
  27:{main:"è±šè‚‰ã¨é‡èœã®ç‚’ã‚",side:"ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ãŸã¾ã­ãã®å‘³å™Œæ±",salad:"ãƒˆãƒãƒˆã‚µãƒ©ãƒ€",cal:{main:320,side:170,soup:50,salad:40}},
  28:{main:"ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹",side:"ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼",soup:"ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—",salad:"ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€",cal:{main:720,side:95,soup:45,salad:30}},
  29:{main:"é¶ã®å¡©éº¹ç„¼ã",side:"ãªã™ã®ç…®ã³ãŸã—",soup:"æ²¹æšã’ã®å‘³å™Œæ±",salad:"ãã‚…ã†ã‚Šã¨ã‚ã‹ã‚ã®é…¢ã®ç‰©",cal:{main:240,side:65,soup:60,salad:25}},
  30:{main:"å…«å®èœ",side:"æ˜¥å·»ã",soup:"ãŸã¾ã”ã‚¹ãƒ¼ãƒ—",salad:"ä¸­è¯é¢¨å†·å¥´",cal:{main:280,side:190,soup:70,salad:95}},
  31:{main:"ã™ãç„¼ãé¢¨ç…®è¾¼ã¿",side:"ç™½èœã®ãŠã²ãŸã—",soup:"ã—ã„ãŸã‘ã®å‘³å™Œæ±",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€",cal:{main:480,side:25,soup:45,salad:25}}
};

// ææ–™ãƒ‡ãƒ¼ã‚¿ï¼ˆ6äººå‰åŸºæº–ï¼‰
const INGREDIENTS = {
"é¶ã‚‚ã‚‚è‚‰":{cat:"meat",unit:"g",price:1.2},
"é¶ã‚€ã­è‚‰":{cat:"meat",unit:"g",price:0.8},
"è±šãƒ­ãƒ¼ã‚¹":{cat:"meat",unit:"g",price:1.5},
"è±šãƒãƒ©":{cat:"meat",unit:"g",price:1.3},
"è±šã²ãè‚‰":{cat:"meat",unit:"g",price:1.0},
"è±šã“ã¾":{cat:"meat",unit:"g",price:1.0},
"ç‰›è‚‰":{cat:"meat",unit:"g",price:2.5},
"ç‰›ã“ã¾":{cat:"meat",unit:"g",price:2.0},
"åˆã„æŒ½ã":{cat:"meat",unit:"g",price:1.2},
"é®­":{cat:"fish",unit:"åˆ‡",price:200},
"ã‚µãƒ":{cat:"fish",unit:"åˆ‡",price:150},
"ã‚«ãƒ¬ã‚¤":{cat:"fish",unit:"åˆ‡",price:180},
"ã¶ã‚Š":{cat:"fish",unit:"åˆ‡",price:250},
"ãˆã³":{cat:"fish",unit:"å°¾",price:50},
"ç‰ã­ã":{cat:"veg",unit:"å€‹",price:50},
"ã˜ã‚ƒãŒã„ã‚‚":{cat:"veg",unit:"å€‹",price:40},
"ã«ã‚“ã˜ã‚“":{cat:"veg",unit:"æœ¬",price:50},
"ã‚­ãƒ£ãƒ™ãƒ„":{cat:"veg",unit:"ç‰",price:150},
"ã»ã†ã‚Œã‚“è‰":{cat:"veg",unit:"æŸ",price:150},
"è±†è…":{cat:"dairy",unit:"ä¸",price:80},
"åµ":{cat:"dairy",unit:"å€‹",price:25}
};

const RECIPES = {
"é¶ã®ç…§ã‚Šç„¼ã":{i:"é¶ã‚‚ã‚‚è‚‰900gã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€é…’å¤§ã•ã˜2ã€ç ‚ç³–å¤§ã•ã˜2",s:["é¶è‚‰ã‚’ä¸€å£å¤§ã«åˆ‡ã‚‹","ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§çš®ç›®ã‹ã‚‰ç„¼ã","èª¿å‘³æ–™ã‚’åŠ ãˆã¦ç…®çµ¡ã‚ã‚‹"],ing:[["é¶ã‚‚ã‚‚è‚‰",900]]},
"ã»ã†ã‚Œã‚“è‰ã®ã”ã¾å’Œãˆ":{i:"ã»ã†ã‚Œã‚“è‰3æŸã€ã™ã‚Šã”ã¾å¤§ã•ã˜4ã€é†¤æ²¹å¤§ã•ã˜2ã€ç ‚ç³–å¤§ã•ã˜1",s:["ã»ã†ã‚Œã‚“è‰ã‚’èŒ¹ã§ã¦åˆ‡ã‚‹","ã”ã¾ãƒ»é†¤æ²¹ãƒ»ç ‚ç³–ã§å’Œãˆã‚‹"],ing:[["ã»ã†ã‚Œã‚“è‰",3]]},
"è±†è…ã¨ã‚ã‹ã‚ã®å‘³å™Œæ±":{i:"è±†è…2ä¸ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","è±†è…ã¨ã‚ã‹ã‚ã‚’åŠ ãˆå‘³å™Œã‚’æº¶ã"],ing:[["è±†è…",2],["ã‚ã‹ã‚",1]]},
"ã‚­ãƒ£ãƒ™ãƒ„ã®å¡©æ˜†å¸ƒã‚µãƒ©ãƒ€":{i:"ã‚­ãƒ£ãƒ™ãƒ„1/2ç‰ã€å¡©æ˜†å¸ƒ30gã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["ã‚­ãƒ£ãƒ™ãƒ„ã‚’åƒåˆ‡ã‚Š","å¡©æ˜†å¸ƒã¨ã”ã¾æ²¹ã§å’Œãˆã‚‹"],ing:[["ã‚­ãƒ£ãƒ™ãƒ„",0.5],["å¡©æ˜†å¸ƒ",1]]},
"è±šã®ç”Ÿå§œç„¼ã":{i:"è±šãƒ­ãƒ¼ã‚¹600gã€ç‰ã­ã1å€‹ã€ç”Ÿå§œ2ã‹ã‘ã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜3",s:["ç”Ÿå§œã‚’ã™ã‚ŠãŠã‚ã™","è±šè‚‰ã¨ç‰ã­ãã‚’ç‚’ã‚ã‚‹","èª¿å‘³æ–™ã‚’çµ¡ã‚ã‚‹"],ing:[["è±šãƒ­ãƒ¼ã‚¹",600],["ç‰ã­ã",1]]},
"ãã‚“ã´ã‚‰ã”ã¼ã†":{i:"ã”ã¼ã†2æœ¬ã€ã«ã‚“ã˜ã‚“1æœ¬ã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜2ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["ç´°åˆ‡ã‚Šã«ã™ã‚‹","ã”ã¾æ²¹ã§ç‚’ã‚ã‚‹","èª¿å‘³æ–™ã§ç‚’ã‚ç…®"],ing:[["ã”ã¼ã†",2],["ã«ã‚“ã˜ã‚“",1]]},
"ãªã‚ã“ã®å‘³å™Œæ±":{i:"ãªã‚ã“2ãƒ‘ãƒƒã‚¯ã€è±†è…1ä¸ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ãªã‚ã“ã‚’æ´—ã†","ã ã—æ±ã§æ¸©ã‚å‘³å™Œã‚’æº¶ã"],ing:[["ãªã‚ã“",2],["è±†è…",1]]},
"å¤§æ ¹ã‚µãƒ©ãƒ€":{i:"å¤§æ ¹1/2æœ¬ã€ã‹ã¤ãŠç¯€é©é‡ã€ãƒãƒ³é…¢å¤§ã•ã˜4",s:["å¤§æ ¹ã‚’åƒåˆ‡ã‚Š","ã‹ã¤ãŠç¯€ã¨ãƒãƒ³é…¢ã‚’ã‹ã‘ã‚‹"],ing:[["å¤§æ ¹",0.5]]},
"é®­ã®ãƒ ãƒ‹ã‚¨ãƒ«":{i:"é®­6åˆ‡ã‚Œã€å¡©ã“ã—ã‚‡ã†é©é‡ã€å°éº¦ç²‰é©é‡ã€ãƒã‚¿ãƒ¼40g",s:["é®­ã«å¡©ã“ã—ã‚‡ã†ã—å°éº¦ç²‰ã‚’ã¾ã¶ã™","ãƒã‚¿ãƒ¼ã§ä¸¡é¢ç„¼ã"],ing:[["é®­",6],["ãƒã‚¿ãƒ¼",40]]},
"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã®ãŠã‹ã‹å’Œãˆ":{i:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼2æ ªã€ã‹ã¤ãŠç¯€2ãƒ‘ãƒƒã‚¯ã€é†¤æ²¹å¤§ã•ã˜2",s:["ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã‚’èŒ¹ã§ã‚‹","ã‹ã¤ãŠç¯€ã¨é†¤æ²¹ã§å’Œãˆã‚‹"],ing:[["ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼",2]]},
"åµã‚¹ãƒ¼ãƒ—":{i:"åµ4å€‹ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2ã€æ°´1200ml",s:["ã‚¹ãƒ¼ãƒ—ã‚’æ²¸ã‹ã™","æº¶ãåµã‚’å›ã—å…¥ã‚Œã‚‹"],ing:[["åµ",4]]},
"ãƒˆãƒãƒˆã¨ãã‚…ã†ã‚Šã®ã‚µãƒ©ãƒ€":{i:"ãƒˆãƒãƒˆ4å€‹ã€ãã‚…ã†ã‚Š3æœ¬ã€ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°é©é‡",s:["é‡èœã‚’åˆ‡ã‚‹","ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°ã‚’ã‹ã‘ã‚‹"],ing:[["ãƒˆãƒãƒˆ",4],["ãã‚…ã†ã‚Š",3]]},
"è‚‰ã˜ã‚ƒãŒ":{i:"ç‰›è‚‰400gã€ã˜ã‚ƒãŒã„ã‚‚6å€‹ã€ã«ã‚“ã˜ã‚“2æœ¬ã€ç‰ã­ã2å€‹ã€é†¤æ²¹å¤§ã•ã˜5ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜3",s:["é‡èœã‚’åˆ‡ã‚‹","è‚‰ã¨é‡èœã‚’ç‚’ã‚ã‚‹","ã ã—æ±ã¨èª¿å‘³æ–™ã§ç…®è¾¼ã‚€"],ing:[["ç‰›ã“ã¾",400],["ã˜ã‚ƒãŒã„ã‚‚",6],["ã«ã‚“ã˜ã‚“",2],["ç‰ã­ã",2]]},
"å°æ¾èœã®ãŠã²ãŸã—":{i:"å°æ¾èœ2æŸã€ã ã—æ±100mlã€é†¤æ²¹å¤§ã•ã˜2",s:["å°æ¾èœã‚’èŒ¹ã§ã¦åˆ‡ã‚‹","ã ã—æ±ã¨é†¤æ²¹ã‚’ã‹ã‘ã‚‹"],ing:[["å°æ¾èœ",2]]},
"å¤§æ ¹ã®å‘³å™Œæ±":{i:"å¤§æ ¹1/3æœ¬ã€æ²¹æšã’2æšã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["å¤§æ ¹ã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["å¤§æ ¹",0.3],["æ²¹æšã’",2]]},
"ã‚‚ã‚„ã—ã®ãƒŠãƒ ãƒ«":{i:"ã‚‚ã‚„ã—4è¢‹ã€ã”ã¾æ²¹å¤§ã•ã˜3ã€å¡©å°ã•ã˜1ã€ã«ã‚“ã«ã1ã‹ã‘",s:["ã‚‚ã‚„ã—ã‚’èŒ¹ã§ã‚‹","èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ã‚‚ã‚„ã—",4]]},
"éº»å©†è±†è…":{i:"è±†è…3ä¸ã€è±šã²ãè‚‰300gã€é•·ã­ã2æœ¬ã€è±†æ¿é†¤å¤§ã•ã˜2ã€ç”œéººé†¤å¤§ã•ã˜2",s:["è±†è…ã‚’åˆ‡ã‚‹","ã²ãè‚‰ã‚’ç‚’ã‚èª¿å‘³æ–™ã‚’åŠ ãˆã‚‹","è±†è…ã‚’åŠ ãˆã¨ã‚ã¿ã‚’ã¤ã‘ã‚‹"],ing:[["è±†è…",3],["è±šã²ãè‚‰",300],["é•·ã­ã",2]]},
"æ˜¥é›¨ã‚µãƒ©ãƒ€":{i:"æ˜¥é›¨100gã€ãã‚…ã†ã‚Š2æœ¬ã€ãƒãƒ 6æšã€é†¤æ²¹å¤§ã•ã˜3ã€é…¢å¤§ã•ã˜3ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["æ˜¥é›¨ã‚’èŒ¹ã§ã‚‹","å…·æã‚’åˆ‡ã£ã¦å’Œãˆã‚‹"],ing:[["æ˜¥é›¨",1],["ãã‚…ã†ã‚Š",2]]},
"ä¸­è¯ã‚¹ãƒ¼ãƒ—":{i:"åµ3å€‹ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2ã€æ°´1200ml",s:["ã‚¹ãƒ¼ãƒ—ã‚’æ²¸ã‹ã™","ã‚ã‹ã‚ã¨åµã‚’åŠ ãˆã‚‹"],ing:[["åµ",3],["ã‚ã‹ã‚",1]]},
"ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘":{i:"ãã‚…ã†ã‚Š4æœ¬ã€å¡©å°ã•ã˜2ã€æ˜†å¸ƒ5cm",s:["ãã‚…ã†ã‚Šã‚’åˆ‡ã‚‹","å¡©ã‚’ã¾ã¶ã—ã¦30åˆ†ç½®ã"],ing:[["ãã‚…ã†ã‚Š",4]]},
"ã‚«ãƒ¬ã‚¤ã®ç…®ä»˜ã‘":{i:"ã‚«ãƒ¬ã‚¤6åˆ‡ã‚Œã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€é…’å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2ã€ç”Ÿå§œ1ã‹ã‘",s:["ç…®æ±ã‚’ç…®ç«‹ã¦ã‚‹","ã‚«ãƒ¬ã‚¤ã‚’å…¥ã‚Œ15åˆ†ç…®ã‚‹"],ing:[["ã‚«ãƒ¬ã‚¤",6]]},
"ã²ã˜ãã®ç…®ç‰©":{i:"ã²ã˜ã40gã€ã«ã‚“ã˜ã‚“1æœ¬ã€æ²¹æšã’2æšã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜2",s:["ã²ã˜ãã‚’æˆ»ã™","ç‚’ã‚ã¦ã ã—æ±ã§ç…®ã‚‹"],ing:[["ã²ã˜ã",1],["ã«ã‚“ã˜ã‚“",1],["æ²¹æšã’",2]]},
"ã‚ã•ã‚Šã®å‘³å™Œæ±":{i:"ã‚ã•ã‚Š400gã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜4",s:["ã‚ã•ã‚Šã‚’ç ‚æŠœã","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ã‚ã•ã‚Š",400]]},
"ç™½èœã®æµ…æ¼¬ã‘":{i:"ç™½èœ1/4ç‰ã€å¡©å¤§ã•ã˜1ã€æ˜†å¸ƒ5cm",s:["ç™½èœã‚’åˆ‡ã‚‹","å¡©ã‚’æŒ¯ã‚Š1æ™‚é–“ç½®ã"],ing:[["ç™½èœ",0.25]]},
"ãƒãƒ³ãƒãƒ¼ã‚°":{i:"åˆã„æŒ½ãè‚‰600gã€ç‰ã­ã1å€‹ã€ãƒ‘ãƒ³ç²‰1ã‚«ãƒƒãƒ—ã€åµ1å€‹ã€ã‚±ãƒãƒ£ãƒƒãƒ—ãƒ»ã‚½ãƒ¼ã‚¹å„å¤§ã•ã˜4",s:["ç‰ã­ãã‚’ç‚’ã‚ã‚‹","ææ–™ã‚’æ··ãœã¦ã“ã­ã‚‹","ç„¼ã„ã¦ã‚½ãƒ¼ã‚¹ã‚’ã‹ã‘ã‚‹"],ing:[["åˆã„æŒ½ã",600],["ç‰ã­ã",1],["åµ",1]]},
"ã‚³ãƒ¼ãƒ³ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€":{i:"ã˜ã‚ƒãŒã„ã‚‚6å€‹ã€ã‚³ãƒ¼ãƒ³ç¼¶1ç¼¶ã€ãã‚…ã†ã‚Š1æœ¬ã€ãƒãƒ¨ãƒãƒ¼ã‚ºå¤§ã•ã˜6",s:["ã˜ã‚ƒãŒã„ã‚‚ã‚’èŒ¹ã§ã¦æ½°ã™","å…·æã¨ãƒãƒ¨ãƒãƒ¼ã‚ºã§å’Œãˆã‚‹"],ing:[["ã˜ã‚ƒãŒã„ã‚‚",6],["ã‚³ãƒ¼ãƒ³ç¼¶",1],["ãã‚…ã†ã‚Š",1]]},
"ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—":{i:"ç‰ã­ã1å€‹ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€ã‚³ãƒ³ã‚½ãƒ¡3å€‹ã€æ°´1200ml",s:["é‡èœã‚’åˆ‡ã‚‹","æ°´ã¨ã‚³ãƒ³ã‚½ãƒ¡ã§ç…®è¾¼ã‚€"],ing:[["ç‰ã­ã",1],["ã«ã‚“ã˜ã‚“",1],["ã‚­ãƒ£ãƒ™ãƒ„",0.25]]},
"ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€":{i:"ãƒ¬ã‚¿ã‚¹1ç‰ã€ãã‚…ã†ã‚Š2æœ¬ã€ãƒˆãƒãƒˆ2å€‹ã€ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°é©é‡",s:["é‡èœã‚’åˆ‡ã‚‹","ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°ã‚’ã‹ã‘ã‚‹"],ing:[["ãƒ¬ã‚¿ã‚¹",1],["ãã‚…ã†ã‚Š",2],["ãƒˆãƒãƒˆ",2]]},
"é¶ã®å”æšã’":{i:"é¶ã‚‚ã‚‚è‚‰900gã€é†¤æ²¹å¤§ã•ã˜4ã€é…’å¤§ã•ã˜2ã€ç”Ÿå§œ1ã‹ã‘ã€ç‰‡æ —ç²‰é©é‡",s:["é¶è‚‰ã‚’ä¸‹å‘³ã«æ¼¬ã‘ã‚‹","ç‰‡æ —ç²‰ã‚’ã¾ã¶ã—ã¦æšã’ã‚‹"],ing:[["é¶ã‚‚ã‚‚è‚‰",900]]},
"åµç„¼ã":{i:"åµ6å€‹ã€ã ã—æ±å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2ã€é†¤æ²¹å°ã•ã˜1",s:["åµã‚’æº¶ã„ã¦èª¿å‘³æ–™ã‚’æ··ãœã‚‹","å°‘ã—ãšã¤æµã—ã¦å·»ã"],ing:[["åµ",6]]},
"è±šæ±":{i:"è±šãƒãƒ©200gã€å¤§æ ¹1/4æœ¬ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã”ã¼ã†1æœ¬ã€ã“ã‚“ã«ã‚ƒã1æšã€å‘³å™Œå¤§ã•ã˜5",s:["é‡èœã‚’åˆ‡ã‚‹","è±šè‚‰ã¨é‡èœã‚’ç‚’ã‚ç…®è¾¼ã‚€","å‘³å™Œã‚’æº¶ã"],ing:[["è±šãƒãƒ©",200],["å¤§æ ¹",0.25],["ã«ã‚“ã˜ã‚“",1],["ã”ã¼ã†",1],["ã“ã‚“ã«ã‚ƒã",1]]},
"ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š":{i:"ã‚­ãƒ£ãƒ™ãƒ„1/2ç‰",s:["ã‚­ãƒ£ãƒ™ãƒ„ã‚’åƒåˆ‡ã‚Šã«ã™ã‚‹","å†·æ°´ã§ã‚·ãƒ£ã‚­ãƒƒã¨ã•ã›ã‚‹"],ing:[["ã‚­ãƒ£ãƒ™ãƒ„",0.5]]},
"è±šã‚­ãƒ ãƒ":{i:"è±šãƒãƒ©400gã€ã‚­ãƒ ãƒ300gã€ç‰ã­ã1å€‹ã€ãƒ‹ãƒ©1æŸã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["è±šè‚‰ã‚’ç‚’ã‚ã‚‹","ã‚­ãƒ ãƒã¨é‡èœã‚’åŠ ãˆã¦ç‚’ã‚ã‚‹"],ing:[["è±šãƒãƒ©",400],["ã‚­ãƒ ãƒ",300],["ç‰ã­ã",1],["ãƒ‹ãƒ©",1]]},
"ãƒãƒ‚ãƒŸ":{i:"ãƒ‹ãƒ©2æŸã€ç‰ã­ã1å€‹ã€å°éº¦ç²‰150gã€åµ2å€‹ã€æ°´200mlã€ã”ã¾æ²¹å¤§ã•ã˜4",s:["ç”Ÿåœ°ã‚’ä½œã‚‹","é‡èœã‚’æ··ãœã‚‹","ä¸¡é¢ã‚«ãƒªãƒƒã¨ç„¼ã"],ing:[["ãƒ‹ãƒ©",2],["ç‰ã­ã",1],["åµ",2]]},
"ã‚ã‹ã‚ã‚¹ãƒ¼ãƒ—":{i:"ã‚ã‹ã‚å¤§ã•ã˜2ã€åµ2å€‹ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2ã€æ°´1200ml",s:["ã‚¹ãƒ¼ãƒ—ã‚’æ²¸ã‹ã™","ã‚ã‹ã‚ã¨åµã‚’åŠ ãˆã‚‹"],ing:[["ã‚ã‹ã‚",1],["åµ",2]]},
"éŸ“å›½é¢¨ã‚µãƒ©ãƒ€":{i:"ãƒ¬ã‚¿ã‚¹1ç‰ã€ãã‚…ã†ã‚Š2æœ¬ã€éŸ“å›½ã®ã‚Š2ãƒ‘ãƒƒã‚¯ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["é‡èœã‚’åˆ‡ã‚‹","ã®ã‚Šã¨ã”ã¾æ²¹ã§å’Œãˆã‚‹"],ing:[["ãƒ¬ã‚¿ã‚¹",1],["ãã‚…ã†ã‚Š",2]]},
"ã‚µãƒã®å‘³å™Œç…®":{i:"ã‚µãƒ6åˆ‡ã‚Œã€å‘³å™Œå¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜3ã€é…’å¤§ã•ã˜3ã€ç ‚ç³–å¤§ã•ã˜2ã€ç”Ÿå§œ1ã‹ã‘",s:["ç…®æ±ã‚’ç…®ç«‹ã¦ã‚‹","ã‚µãƒã‚’ç…®ã‚‹","å‘³å™Œã‚’åŠ ãˆã‚‹"],ing:[["ã‚µãƒ",6]]},
"åˆ‡ã‚Šå¹²ã—å¤§æ ¹":{i:"åˆ‡ã‚Šå¹²ã—å¤§æ ¹60gã€ã«ã‚“ã˜ã‚“1æœ¬ã€æ²¹æšã’2æšã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜2",s:["åˆ‡ã‚Šå¹²ã—å¤§æ ¹ã‚’æˆ»ã™","ç‚’ã‚ã¦ã ã—æ±ã§ç…®ã‚‹"],ing:[["ã«ã‚“ã˜ã‚“",1],["æ²¹æšã’",2]]},
"ã—ã˜ã¿ã®å‘³å™Œæ±":{i:"ã—ã˜ã¿300gã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜4",s:["ã—ã˜ã¿ã‚’ç ‚æŠœã","æ°´ã‹ã‚‰ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ã—ã˜ã¿",300]]},
"é…¢ã®ç‰©":{i:"ãã‚…ã†ã‚Š3æœ¬ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€é…¢å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2",s:["ãã‚…ã†ã‚Šã‚’è–„åˆ‡ã‚Š","é…¢ã¨ç ‚ç³–ã§å’Œãˆã‚‹"],ing:[["ãã‚…ã†ã‚Š",3],["ã‚ã‹ã‚",1]]},
"å›é‹è‚‰":{i:"è±šãƒãƒ©400gã€ã‚­ãƒ£ãƒ™ãƒ„1/2ç‰ã€ãƒ”ãƒ¼ãƒãƒ³4å€‹ã€ç”œéººé†¤å¤§ã•ã˜3ã€è±†æ¿é†¤å¤§ã•ã˜1",s:["é‡èœã‚’åˆ‡ã‚‹","è±šè‚‰ã‚’ç‚’ã‚ã¦é‡èœã‚’åŠ ãˆã‚‹","èª¿å‘³æ–™ã§çµ¡ã‚ã‚‹"],ing:[["è±šãƒãƒ©",400],["ã‚­ãƒ£ãƒ™ãƒ„",0.5],["ãƒ”ãƒ¼ãƒãƒ³",4]]},
"é¤ƒå­":{i:"è±šã²ãè‚‰300gã€ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€ãƒ‹ãƒ©1æŸã€é¤ƒå­ã®çš®60æš",s:["å…·ã‚’ä½œã‚‹","çš®ã§åŒ…ã‚€","ç„¼ã„ã¦è’¸ã™"],ing:[["è±šã²ãè‚‰",300],["ã‚­ãƒ£ãƒ™ãƒ„",0.25],["ãƒ‹ãƒ©",1],["é¤ƒå­ã®çš®",60]]},
"é…¸è¾£æ¹¯":{i:"è±†è…1ä¸ã€åµ3å€‹ã€ãŸã‘ã®ã“100gã€é…¢å¤§ã•ã˜4ã€ãƒ©ãƒ¼æ²¹å¤§ã•ã˜1",s:["å…·ã‚’åˆ‡ã‚‹","ã‚¹ãƒ¼ãƒ—ã§ç…®ã‚‹","åµã‚’åŠ ãˆãƒ©ãƒ¼æ²¹ã‚’ã‹ã‘ã‚‹"],ing:[["è±†è…",1],["åµ",3],["ãŸã‘ã®ã“",1]]},
"ãƒãƒ³ãƒãƒ³ã‚¸ãƒ¼ã‚µãƒ©ãƒ€":{i:"é¶ã‚€ã­è‚‰2æšã€ãã‚…ã†ã‚Š3æœ¬ã€ç·´ã‚Šã”ã¾å¤§ã•ã˜4ã€é†¤æ²¹å¤§ã•ã˜3",s:["é¶è‚‰ã‚’èŒ¹ã§ã¦è£‚ã","ãã‚…ã†ã‚Šã¨ç››ã‚‹","ã”ã¾ãƒ€ãƒ¬ã‚’ã‹ã‘ã‚‹"],ing:[["é¶ã‚€ã­è‚‰",400],["ãã‚…ã†ã‚Š",3]]},
"ãƒã‚­ãƒ³å—è›®":{i:"é¶ã‚‚ã‚‚è‚‰900gã€åµ2å€‹ã€é†¤æ²¹å¤§ã•ã˜4ã€é…¢å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜3ã€ã‚¿ãƒ«ã‚¿ãƒ«ç”¨åµ3å€‹",s:["é¶è‚‰ã‚’æšã’ã‚‹","å—è›®é…¢ã«çµ¡ã‚ã‚‹","ã‚¿ãƒ«ã‚¿ãƒ«ã‚’ã‹ã‘ã‚‹"],ing:[["é¶ã‚‚ã‚‚è‚‰",900],["åµ",5]]},
"ã‹ã¼ã¡ã‚ƒã®ç…®ç‰©":{i:"ã‹ã¼ã¡ã‚ƒ1å€‹ã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜3ã€ç ‚ç³–å¤§ã•ã˜2",s:["ã‹ã¼ã¡ã‚ƒã‚’åˆ‡ã‚‹","ã ã—æ±ã¨èª¿å‘³æ–™ã§ç…®ã‚‹"],ing:[["ã‹ã¼ã¡ã‚ƒ",1]]},
"ã‚³ãƒ¼ãƒ³ã‚¹ãƒ¼ãƒ—":{i:"ã‚³ãƒ¼ãƒ³ç¼¶2ç¼¶ã€ç‰ã­ã1å€‹ã€ç‰›ä¹³600mlã€ã‚³ãƒ³ã‚½ãƒ¡2å€‹",s:["ç‰ã­ãã‚’ç‚’ã‚ã‚‹","ã‚³ãƒ¼ãƒ³ã¨ç‰›ä¹³ã‚’åŠ ãˆãƒŸã‚­ã‚µãƒ¼ã«ã‹ã‘ã‚‹"],ing:[["ã‚³ãƒ¼ãƒ³ç¼¶",2],["ç‰ã­ã",1],["ç‰›ä¹³",600]]},
"ã‚¿ãƒ«ã‚¿ãƒ«ã‚µãƒ©ãƒ€":{i:"ã‚†ã§åµ4å€‹ã€ãã‚…ã†ã‚Š2æœ¬ã€ãƒãƒ¨ãƒãƒ¼ã‚ºå¤§ã•ã˜5ã€ãƒ¬ã‚¿ã‚¹1/2ç‰",s:["å…·ã‚’åˆ»ã‚€","ãƒãƒ¨ãƒãƒ¼ã‚ºã§å’Œãˆã‚‹"],ing:[["åµ",4],["ãã‚…ã†ã‚Š",2],["ãƒ¬ã‚¿ã‚¹",0.5]]},
"é’æ¤’è‚‰çµ²":{i:"ç‰›è‚‰400gã€ãƒ”ãƒ¼ãƒãƒ³6å€‹ã€ãŸã‘ã®ã“150gã€ã‚ªã‚¤ã‚¹ã‚¿ãƒ¼ã‚½ãƒ¼ã‚¹å¤§ã•ã˜2",s:["ç´°åˆ‡ã‚Šã«ã™ã‚‹","è‚‰ã‚’ç‚’ã‚é‡èœã‚’åŠ ãˆã‚‹","èª¿å‘³æ–™ã§çµ¡ã‚ã‚‹"],ing:[["ç‰›è‚‰",400],["ãƒ”ãƒ¼ãƒãƒ³",6],["ãŸã‘ã®ã“",1]]},
"å†·å¥´":{i:"è±†è…3ä¸ã€ç”Ÿå§œ1ã‹ã‘ã€ã­ãé©é‡ã€é†¤æ²¹é©é‡",s:["è±†è…ã‚’åˆ‡ã‚‹","è–¬å‘³ã‚’ã®ã›é†¤æ²¹ã‚’ã‹ã‘ã‚‹"],ing:[["è±†è…",3]]},
"åµã¨ãƒˆãƒãƒˆã®ã‚¹ãƒ¼ãƒ—":{i:"åµ3å€‹ã€ãƒˆãƒãƒˆ3å€‹ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2ã€æ°´1200ml",s:["ãƒˆãƒãƒˆã‚’åˆ‡ã‚‹","ã‚¹ãƒ¼ãƒ—ã§ç…®ã¦åµã‚’åŠ ãˆã‚‹"],ing:[["åµ",3],["ãƒˆãƒãƒˆ",3]]},
"ã‚¶ãƒ¼ã‚µã‚¤å’Œãˆ":{i:"ãã‚…ã†ã‚Š3æœ¬ã€ã‚¶ãƒ¼ã‚µã‚¤100gã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["ãã‚…ã†ã‚Šã‚’åˆ‡ã‚‹","ã‚¶ãƒ¼ã‚µã‚¤ã¨ã”ã¾æ²¹ã§å’Œãˆã‚‹"],ing:[["ãã‚…ã†ã‚Š",3]]},
"é¯–ã®å¡©ç„¼ã":{i:"ã‚µãƒ6åˆ‡ã‚Œã€å¡©é©é‡ã€å¤§æ ¹ãŠã‚ã—é©é‡",s:["ã‚µãƒã«å¡©ã‚’æŒ¯ã‚‹","ã‚°ãƒªãƒ«ã§ç„¼ã"],ing:[["ã‚µãƒ",6],["å¤§æ ¹",0.3]]},
"åšæšã’ã®ç…®ç‰©":{i:"åšæšã’4æšã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜2ã€ã ã—æ±300ml",s:["åšæšã’ã‚’åˆ‡ã‚‹","ã ã—æ±ã¨èª¿å‘³æ–™ã§ç…®ã‚‹"],ing:[["åšæšã’",4]]},
"ã‘ã‚“ã¡ã‚“æ±":{i:"å¤§æ ¹1/4æœ¬ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã”ã¼ã†1æœ¬ã€è±†è…1ä¸ã€ã ã—æ±1500ml",s:["é‡èœã‚’åˆ‡ã‚‹","ã”ã¾æ²¹ã§ç‚’ã‚ç…®è¾¼ã‚€"],ing:[["å¤§æ ¹",0.25],["ã«ã‚“ã˜ã‚“",1],["ã”ã¼ã†",1],["è±†è…",1]]},
"ã»ã†ã‚Œã‚“è‰ã®ç™½å’Œãˆ":{i:"ã»ã†ã‚Œã‚“è‰2æŸã€è±†è…1ä¸ã€ã™ã‚Šã”ã¾å¤§ã•ã˜3ã€ç ‚ç³–å¤§ã•ã˜1",s:["ã»ã†ã‚Œã‚“è‰ã‚’èŒ¹ã§ã‚‹","è±†è…ã¨èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ã»ã†ã‚Œã‚“è‰",2],["è±†è…",1]]},
"ç‰›ä¸¼":{i:"ç‰›è‚‰500gã€ç‰ã­ã2å€‹ã€é†¤æ²¹å¤§ã•ã˜5ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2",s:["ç‰ã­ãã‚’åˆ‡ã‚‹","ã ã—æ±ã¨èª¿å‘³æ–™ã§ç…®ã‚‹","ç‰›è‚‰ã‚’åŠ ãˆã”é£¯ã«ã®ã›ã‚‹"],ing:[["ç‰›è‚‰",500],["ç‰ã­ã",2]]},
"æ¸©æ³‰åµ":{i:"åµ6å€‹",s:["æ¹¯ã‚’æ²¸ã‹ã—ç«ã‚’æ­¢ã‚ã‚‹","åµã‚’å…¥ã‚Œ12åˆ†ç½®ã"],ing:[["åµ",6]]},
"å‘³å™Œæ±":{i:"è±†è…1ä¸ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","å…·ã‚’åŠ ãˆå‘³å™Œã‚’æº¶ã"],ing:[["è±†è…",1],["ã‚ã‹ã‚",1]]},
"é¶è‚‰ã¨ã‚­ãƒã‚³ã®ç‚’ã‚":{i:"é¶ã‚‚ã‚‚è‚‰600gã€ã—ã‚ã˜2ãƒ‘ãƒƒã‚¯ã€ãˆã®ã2ãƒ‘ãƒƒã‚¯ã€é†¤æ²¹å¤§ã•ã˜3ã€ãƒã‚¿ãƒ¼30g",s:["é¶è‚‰ã‚’åˆ‡ã‚‹","ãƒã‚¿ãƒ¼ã§ç„¼ãã‚­ãƒã‚³ã‚’åŠ ãˆã‚‹","èª¿å‘³æ–™ã§çµ¡ã‚ã‚‹"],ing:[["é¶ã‚‚ã‚‚è‚‰",600],["ã—ã‚ã˜",2],["ãˆã®ã",2],["ãƒã‚¿ãƒ¼",30]]},
"èŒ¶ç¢—è’¸ã—":{i:"åµ4å€‹ã€ã ã—æ±600mlã€é¶è‚‰100gã€ã‹ã¾ã¼ã“6æš",s:["åµæ¶²ã‚’ä½œã‚‹","å…·ã‚’å…¥ã‚Œè’¸ã™"],ing:[["åµ",4],["é¶ã‚‚ã‚‚è‚‰",100]]},
"ãã®ã“æ±":{i:"ã—ã‚ã˜2ãƒ‘ãƒƒã‚¯ã€ãˆã®ã1ãƒ‘ãƒƒã‚¯ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ãã®ã“ã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ã—ã‚ã˜",2],["ãˆã®ã",1]]},
"é’èœã®ãŠæµ¸ã—":{i:"å°æ¾èœ3æŸã€ã ã—æ±100mlã€é†¤æ²¹å¤§ã•ã˜2",s:["å°æ¾èœã‚’èŒ¹ã§ã‚‹","ã ã—æ±ã¨é†¤æ²¹ã‚’ã‹ã‘ã‚‹"],ing:[["å°æ¾èœ",3]]},
"ã‚¨ãƒ“ãƒãƒª":{i:"ãˆã³24å°¾ã€é•·ã­ã2æœ¬ã€ã‚±ãƒãƒ£ãƒƒãƒ—å¤§ã•ã˜5ã€è±†æ¿é†¤å¤§ã•ã˜1",s:["ãˆã³ã‚’ä¸‹å‡¦ç†","ç‚’ã‚ã¦èª¿å‘³æ–™ã§ç…®çµ¡ã‚ã‚‹"],ing:[["ãˆã³",24],["é•·ã­ã",2]]},
"é’æ¢—èœã®ç‚’ã‚":{i:"é’æ¢—èœ4æ ªã€ã«ã‚“ã«ã2ã‹ã‘ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å°ã•ã˜2",s:["é’æ¢—èœã‚’åˆ‡ã‚‹","ã«ã‚“ã«ãã¨ç‚’ã‚ã‚‹"],ing:[["é’æ¢—èœ",4]]},
"ãƒ¯ãƒ³ã‚¿ãƒ³ã‚¹ãƒ¼ãƒ—":{i:"ãƒ¯ãƒ³ã‚¿ãƒ³ã®çš®30æšã€è±šã²ãè‚‰150gã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2",s:["å…·ã‚’ä½œã‚ŠåŒ…ã‚€","ã‚¹ãƒ¼ãƒ—ã§èŒ¹ã§ã‚‹"],ing:[["è±šã²ãè‚‰",150]]},
"ãã‚…ã†ã‚Šã®ä¸­è¯å’Œãˆ":{i:"ãã‚…ã†ã‚Š4æœ¬ã€ã«ã‚“ã«ã1ã‹ã‘ã€é†¤æ²¹å¤§ã•ã˜2ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["ãã‚…ã†ã‚Šã‚’å©ã","èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ãã‚…ã†ã‚Š",4]]},
"ã¨ã‚“ã‹ã¤":{i:"è±šãƒ­ãƒ¼ã‚¹6æšã€å°éº¦ç²‰ãƒ»åµãƒ»ãƒ‘ãƒ³ç²‰å„é©é‡ã€ã‚­ãƒ£ãƒ™ãƒ„1/2ç‰",s:["è¡£ã‚’ã¤ã‘ã‚‹","170â„ƒã§æšã’ã‚‹"],ing:[["è±šãƒ­ãƒ¼ã‚¹",600],["ã‚­ãƒ£ãƒ™ãƒ„",0.5],["åµ",2]]},
"ãªã‚ã“æ±":{i:"ãªã‚ã“2ãƒ‘ãƒƒã‚¯ã€è±†è…1ä¸ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ãªã‚ã“ã‚’æ´—ã†","ã ã—æ±ã§æ¸©ã‚å‘³å™Œã‚’æº¶ã"],ing:[["ãªã‚ã“",2],["è±†è…",1]]},
"ãƒã‚«ãƒ­ãƒ‹ã‚µãƒ©ãƒ€":{i:"ãƒã‚«ãƒ­ãƒ‹200gã€ãã‚…ã†ã‚Š2æœ¬ã€ãƒãƒ 6æšã€ãƒãƒ¨ãƒãƒ¼ã‚ºå¤§ã•ã˜6",s:["ãƒã‚«ãƒ­ãƒ‹ã‚’èŒ¹ã§ã‚‹","å…·ã¨ãƒãƒ¨ãƒãƒ¼ã‚ºã§å’Œãˆã‚‹"],ing:[["ãƒã‚«ãƒ­ãƒ‹",200],["ãã‚…ã†ã‚Š",2]]},
"ã‚¢ã‚¸ã®å—è›®æ¼¬ã‘":{i:"ã‚¢ã‚¸6å°¾ã€ç‰ã­ã1å€‹ã€é…¢150mlã€é†¤æ²¹å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜3",s:["ã‚¢ã‚¸ã‚’æšã’ã‚‹","é‡èœã¨å—è›®é…¢ã«æ¼¬ã‘ã‚‹"],ing:[["ã‚¢ã‚¸",6],["ç‰ã­ã",1]]},
"é‡ŒèŠ‹ã®ç…®ç‰©":{i:"é‡ŒèŠ‹12å€‹ã€é†¤æ²¹å¤§ã•ã˜3ã€ã¿ã‚Šã‚“å¤§ã•ã˜2ã€ã ã—æ±400ml",s:["é‡ŒèŠ‹ã‚’ä¸‹èŒ¹ã§","ã ã—æ±ã¨èª¿å‘³æ–™ã§ç…®ã‚‹"],ing:[["é‡ŒèŠ‹",12]]},
"ãŠå¸ã„ç‰©":{i:"ã¯ã‚“ãºã‚“2æšã€ä¸‰ã¤è‘‰1æŸã€ã ã—æ±1200mlã€é†¤æ²¹å°ã•ã˜2",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","å…·ã‚’åŠ ãˆå‘³ã‚’èª¿ãˆã‚‹"],ing:[]},
"ã‚ªãƒ ãƒ©ã‚¤ã‚¹":{i:"ã”é£¯6æ¯ã€é¶è‚‰200gã€ç‰ã­ã1å€‹ã€ã‚±ãƒãƒ£ãƒƒãƒ—å¤§ã•ã˜6ã€åµ12å€‹",s:["ãƒã‚­ãƒ³ãƒ©ã‚¤ã‚¹ã‚’ä½œã‚‹","åµã§åŒ…ã‚€"],ing:[["é¶ã‚‚ã‚‚è‚‰",200],["ç‰ã­ã",1],["åµ",12]]},
"ã‚¦ã‚¤ãƒ³ãƒŠãƒ¼ç‚’ã‚":{i:"ã‚¦ã‚¤ãƒ³ãƒŠãƒ¼12æœ¬",s:["åˆ‡ã‚Šè¾¼ã¿ã‚’å…¥ã‚Œç‚’ã‚ã‚‹"],ing:[]},
"é‡èœã‚¹ãƒ¼ãƒ—":{i:"ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã˜ã‚ƒãŒã„ã‚‚2å€‹ã€ã‚³ãƒ³ã‚½ãƒ¡3å€‹",s:["é‡èœã‚’åˆ‡ã‚‹","ã‚³ãƒ³ã‚½ãƒ¡ã§ç…®è¾¼ã‚€"],ing:[["ã‚­ãƒ£ãƒ™ãƒ„",0.25],["ã«ã‚“ã˜ã‚“",1],["ã˜ã‚ƒãŒã„ã‚‚",2]]},
"ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼":{i:"ã‚­ãƒ£ãƒ™ãƒ„1/2ç‰ã€ã«ã‚“ã˜ã‚“1/2æœ¬ã€ã‚³ãƒ¼ãƒ³1ç¼¶ã€ãƒãƒ¨ãƒãƒ¼ã‚ºå¤§ã•ã˜5",s:["é‡èœã‚’åƒåˆ‡ã‚Š","ãƒãƒ¨ãƒãƒ¼ã‚ºã§å’Œãˆã‚‹"],ing:[["ã‚­ãƒ£ãƒ™ãƒ„",0.5],["ã«ã‚“ã˜ã‚“",0.5],["ã‚³ãƒ¼ãƒ³ç¼¶",1]]},
"è¦ªå­ä¸¼":{i:"é¶ã‚‚ã‚‚è‚‰400gã€ç‰ã­ã2å€‹ã€åµ8å€‹ã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜3",s:["é¶è‚‰ã¨ç‰ã­ãã‚’ç…®ã‚‹","åµã§ã¨ã˜ã¦ã”é£¯ã«ã®ã›ã‚‹"],ing:[["é¶ã‚‚ã‚‚è‚‰",400],["ç‰ã­ã",2],["åµ",8]]},
"èµ¤ã ã—":{i:"è±†è…1ä¸ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€ã ã—æ±1200mlã€èµ¤å‘³å™Œå¤§ã•ã˜5",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","å…·ã‚’åŠ ãˆèµ¤å‘³å™Œã‚’æº¶ã"],ing:[["è±†è…",1],["ã‚ã‹ã‚",1]]},
"æ°´èœã‚µãƒ©ãƒ€":{i:"æ°´èœ2è¢‹ã€æ²¹æšã’2æšã€ãƒãƒ³é…¢å¤§ã•ã˜4ã€ã”ã¾æ²¹å¤§ã•ã˜1",s:["æ°´èœã‚’åˆ‡ã‚‹","æ²¹æšã’ã‚’ç„¼ã„ã¦å’Œãˆã‚‹"],ing:[["æ°´èœ",2],["æ²¹æšã’",2]]},
"é¶ã‚€ã­è‚‰ã®å‘³å™Œæ¼¬ã‘ç„¼ã":{i:"é¶ã‚€ã­è‚‰600gã€å‘³å™Œå¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜2",s:["å‘³å™Œã ã‚Œã«æ¼¬ã‘ã‚‹","ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§ç„¼ã"],ing:[["é¶ã‚€ã­è‚‰",600]]},
"ã‚Œã‚“ã“ã‚“ã®ãã‚“ã´ã‚‰":{i:"ã‚Œã‚“ã“ã‚“2ç¯€ã€ã«ã‚“ã˜ã‚“1æœ¬ã€é†¤æ²¹å¤§ã•ã˜3ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["è–„åˆ‡ã‚Šã«ã™ã‚‹","ã”ã¾æ²¹ã§ç‚’ã‚ç…®ã™ã‚‹"],ing:[["ã‚Œã‚“ã“ã‚“",2],["ã«ã‚“ã˜ã‚“",1]]},
"è±†è…ã®å‘³å™Œæ±":{i:"è±†è…2ä¸ã€é•·ã­ã1æœ¬ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","è±†è…ã‚’åŠ ãˆå‘³å™Œã‚’æº¶ã"],ing:[["è±†è…",2],["é•·ã­ã",1]]},
"ã«ã‚“ã˜ã‚“ã—ã‚Šã—ã‚Š":{i:"ã«ã‚“ã˜ã‚“3æœ¬ã€åµ3å€‹ã€ãƒ„ãƒŠç¼¶1ç¼¶ã€é†¤æ²¹å¤§ã•ã˜1",s:["ã«ã‚“ã˜ã‚“ã‚’åƒåˆ‡ã‚Š","ç‚’ã‚ã¦åµã¨ãƒ„ãƒŠã‚’åŠ ãˆã‚‹"],ing:[["ã«ã‚“ã˜ã‚“",3],["åµ",3],["ãƒ„ãƒŠç¼¶",1]]},
"ã¶ã‚Šã®ç…§ã‚Šç„¼ã":{i:"ã¶ã‚Š6åˆ‡ã‚Œã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€é…’å¤§ã•ã˜2",s:["ã¶ã‚Šã‚’ç„¼ã","èª¿å‘³æ–™ã‚’åŠ ãˆç…®çµ¡ã‚ã‚‹"],ing:[["ã¶ã‚Š",6]]},
"ç­‘å‰ç…®":{i:"é¶ã‚‚ã‚‚è‚‰400gã€ã‚Œã‚“ã“ã‚“1ç¯€ã€ã”ã¼ã†1æœ¬ã€ã«ã‚“ã˜ã‚“1æœ¬ã€é†¤æ²¹å¤§ã•ã˜4",s:["ææ–™ã‚’åˆ‡ã‚‹","ç‚’ã‚ã¦ã ã—æ±ã§ç…®è¾¼ã‚€"],ing:[["é¶ã‚‚ã‚‚è‚‰",400],["ã‚Œã‚“ã“ã‚“",1],["ã”ã¼ã†",1],["ã«ã‚“ã˜ã‚“",1]]},
"ã‚ãŠã•ã®å‘³å™Œæ±":{i:"ã‚ãŠã•å¤§ã•ã˜3ã€è±†è…1ä¸ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã ã—æ±ã‚’æ¸©ã‚ã‚‹","ç«ã‚’æ­¢ã‚ã‚ãŠã•ã¨å‘³å™Œã‚’åŠ ãˆã‚‹"],ing:[["è±†è…",1]]},
"å¤§æ ¹ãªã¾ã™":{i:"å¤§æ ¹1/3æœ¬ã€ã«ã‚“ã˜ã‚“1/3æœ¬ã€é…¢å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2",s:["åƒåˆ‡ã‚Šã«ã™ã‚‹","é…¢ã¨ç ‚ç³–ã§å’Œãˆã‚‹"],ing:[["å¤§æ ¹",0.3],["ã«ã‚“ã˜ã‚“",0.3]]},
"ç„¼ããã°":{i:"ç„¼ããã°éºº6ç‰ã€è±šãƒãƒ©200gã€ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€ã‚‚ã‚„ã—2è¢‹ã€ã‚½ãƒ¼ã‚¹å¤§ã•ã˜6",s:["é‡èœã‚’åˆ‡ã‚‹","è‚‰ã¨é‡èœã‚’ç‚’ã‚éººã‚’åŠ ãˆã‚‹","ã‚½ãƒ¼ã‚¹ã§å‘³ä»˜ã‘"],ing:[["ç„¼ããã°éºº",6],["è±šãƒãƒ©",200],["ã‚­ãƒ£ãƒ™ãƒ„",0.25],["ã‚‚ã‚„ã—",2]]},
"ã‚‚ã‚„ã—ã®ä¸­è¯ã‚µãƒ©ãƒ€":{i:"ã‚‚ã‚„ã—3è¢‹ã€ãã‚…ã†ã‚Š2æœ¬ã€ãƒãƒ 4æšã€é†¤æ²¹å¤§ã•ã˜2ã€é…¢å¤§ã•ã˜2ã€ã”ã¾æ²¹å¤§ã•ã˜2",s:["ã‚‚ã‚„ã—ã‚’èŒ¹ã§ã‚‹","å…·ã¨èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ã‚‚ã‚„ã—",3],["ãã‚…ã†ã‚Š",2]]},
"è±šã®è§’ç…®":{i:"è±šãƒãƒ©ãƒ–ãƒ­ãƒƒã‚¯800gã€é†¤æ²¹å¤§ã•ã˜5ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜3",s:["è±šè‚‰ã‚’ä¸‹èŒ¹ã§","èª¿å‘³æ–™ã§30åˆ†ç…®è¾¼ã‚€"],ing:[["è±šãƒãƒ©",800]]},
"ç…®åµ":{i:"åµ6å€‹ã€é†¤æ²¹å¤§ã•ã˜4ã€ã¿ã‚Šã‚“å¤§ã•ã˜2",s:["åµã‚’èŒ¹ã§ã‚‹","èª¿å‘³æ¶²ã«æ¼¬ã‘ã‚‹"],ing:[["åµ",6]]},
"ç™½èœã®å‘³å™Œæ±":{i:"ç™½èœ1/4ç‰ã€æ²¹æšã’2æšã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ç™½èœã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ç™½èœ",0.25],["æ²¹æšã’",2]]},
"ã»ã†ã‚Œã‚“è‰ãƒŠãƒ ãƒ«":{i:"ã»ã†ã‚Œã‚“è‰3æŸã€ã”ã¾æ²¹å¤§ã•ã˜3ã€å¡©å°ã•ã˜1ã€ã«ã‚“ã«ã1ã‹ã‘",s:["ã»ã†ã‚Œã‚“è‰ã‚’èŒ¹ã§ã‚‹","èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ã»ã†ã‚Œã‚“è‰",3]]},
"é®­ã®ãƒ›ã‚¤ãƒ«ç„¼ã":{i:"é®­6åˆ‡ã‚Œã€ç‰ã­ã1å€‹ã€ã—ã‚ã˜1ãƒ‘ãƒƒã‚¯ã€ãƒã‚¿ãƒ¼40g",s:["ãƒ›ã‚¤ãƒ«ã«å…·ã‚’ã®ã›ã‚‹","ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§è’¸ã—ç„¼ã"],ing:[["é®­",6],["ç‰ã­ã",1],["ã—ã‚ã˜",1],["ãƒã‚¿ãƒ¼",40]]},
"ã„ã‚“ã’ã‚“ã®èƒ¡éº»å’Œãˆ":{i:"ã„ã‚“ã’ã‚“200gã€ã™ã‚Šã”ã¾å¤§ã•ã˜3ã€é†¤æ²¹å¤§ã•ã˜1ã€ç ‚ç³–å¤§ã•ã˜1",s:["ã„ã‚“ã’ã‚“ã‚’èŒ¹ã§ã‚‹","ã”ã¾ã¨èª¿å‘³æ–™ã§å’Œãˆã‚‹"],ing:[["ã„ã‚“ã’ã‚“",200]]},
"ã‚­ãƒ£ãƒ™ãƒ„ã®å‘³å™Œæ±":{i:"ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€æ²¹æšã’2æšã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã‚­ãƒ£ãƒ™ãƒ„ã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ã‚­ãƒ£ãƒ™ãƒ„",0.25],["æ²¹æšã’",2]]},
"ãƒãƒ³é…¢ãã®ã“":{i:"ã—ã‚ã˜2ãƒ‘ãƒƒã‚¯ã€ãˆã®ã1ãƒ‘ãƒƒã‚¯ã€ãƒãƒ³é…¢å¤§ã•ã˜4",s:["ãã®ã“ã‚’èŒ¹ã§ã‚‹","ãƒãƒ³é…¢ã§å’Œãˆã‚‹"],ing:[["ã—ã‚ã˜",2],["ãˆã®ã",1]]},
"è±šè‚‰ã¨é‡èœã®ç‚’ã‚":{i:"è±šã“ã¾è‚‰400gã€ã‚­ãƒ£ãƒ™ãƒ„1/4ç‰ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã‚‚ã‚„ã—2è¢‹ã€é†¤æ²¹å¤§ã•ã˜2",s:["é‡èœã‚’åˆ‡ã‚‹","è‚‰ã¨é‡èœã‚’ç‚’ã‚å‘³ä»˜ã‘"],ing:[["è±šã“ã¾",400],["ã‚­ãƒ£ãƒ™ãƒ„",0.25],["ã«ã‚“ã˜ã‚“",1],["ã‚‚ã‚„ã—",2]]},
"ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€":{i:"ã˜ã‚ƒãŒã„ã‚‚6å€‹ã€ãã‚…ã†ã‚Š1æœ¬ã€ãƒãƒ 4æšã€ãƒãƒ¨ãƒãƒ¼ã‚ºå¤§ã•ã˜6",s:["ã˜ã‚ƒãŒã„ã‚‚ã‚’èŒ¹ã§ã¦æ½°ã™","å…·ã¨ãƒãƒ¨ãƒãƒ¼ã‚ºã§å’Œãˆã‚‹"],ing:[["ã˜ã‚ƒãŒã„ã‚‚",6],["ãã‚…ã†ã‚Š",1]]},
"ãŸã¾ã­ãã®å‘³å™Œæ±":{i:"ç‰ã­ã2å€‹ã€æ²¹æšã’2æšã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ç‰ã­ãã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ç‰ã­ã",2],["æ²¹æšã’",2]]},
"ãƒˆãƒãƒˆã‚µãƒ©ãƒ€":{i:"ãƒˆãƒãƒˆ4å€‹ã€ç‰ã­ã1/2å€‹ã€ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°é©é‡",s:["ãƒˆãƒãƒˆã‚’åˆ‡ã‚‹","ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°ã‚’ã‹ã‘ã‚‹"],ing:[["ãƒˆãƒãƒˆ",4],["ç‰ã­ã",0.5]]},
"ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹":{i:"ç‰›è‚‰400gã€ã˜ã‚ƒãŒã„ã‚‚4å€‹ã€ã«ã‚“ã˜ã‚“2æœ¬ã€ç‰ã­ã3å€‹ã€ã‚«ãƒ¬ãƒ¼ãƒ«ãƒ¼2ç®±",s:["é‡èœã¨è‚‰ã‚’åˆ‡ã‚‹","ç‚’ã‚ã¦ç…®è¾¼ã‚€","ãƒ«ãƒ¼ã‚’åŠ ãˆã‚‹"],ing:[["ç‰›è‚‰",400],["ã˜ã‚ƒãŒã„ã‚‚",4],["ã«ã‚“ã˜ã‚“",2],["ç‰ã­ã",3],["ã‚«ãƒ¬ãƒ¼ãƒ«ãƒ¼",2]]},
"é¶ã®å¡©éº¹ç„¼ã":{i:"é¶ã‚‚ã‚‚è‚‰900gã€å¡©éº¹å¤§ã•ã˜4",s:["å¡©éº¹ã«æ¼¬ã‘ã‚‹","ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§ç„¼ã"],ing:[["é¶ã‚‚ã‚‚è‚‰",900]]},
"ãªã™ã®ç…®ã³ãŸã—":{i:"ãªã™6æœ¬ã€ã‚ã‚“ã¤ã‚†200mlã€æ°´200mlã€ç”Ÿå§œ1ã‹ã‘",s:["ãªã™ã‚’æšã’ç„¼ã","ã‚ã‚“ã¤ã‚†ã«æ¼¬ã‘ã‚‹"],ing:[["ãªã™",6]]},
"æ²¹æšã’ã®å‘³å™Œæ±":{i:"æ²¹æšã’3æšã€é•·ã­ã1æœ¬ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["æ²¹æšã’ã‚’åˆ‡ã‚‹","ã ã—æ±ã§æ¸©ã‚å‘³å™Œã‚’æº¶ã"],ing:[["æ²¹æšã’",3],["é•·ã­ã",1]]},
"ãã‚…ã†ã‚Šã¨ã‚ã‹ã‚ã®é…¢ã®ç‰©":{i:"ãã‚…ã†ã‚Š3æœ¬ã€ã‚ã‹ã‚å¤§ã•ã˜2ã€é…¢å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜2",s:["ãã‚…ã†ã‚Šã‚’è–„åˆ‡ã‚Š","é…¢ã¨ç ‚ç³–ã§å’Œãˆã‚‹"],ing:[["ãã‚…ã†ã‚Š",3],["ã‚ã‹ã‚",1]]},
"å…«å®èœ":{i:"è±šè‚‰200gã€ãˆã³12å°¾ã€ç™½èœ1/4ç‰ã€ã«ã‚“ã˜ã‚“1æœ¬ã€ã‚ªã‚¤ã‚¹ã‚¿ãƒ¼ã‚½ãƒ¼ã‚¹å¤§ã•ã˜2",s:["ææ–™ã‚’åˆ‡ã‚‹","ç‚’ã‚ã¦ã¨ã‚ã¿ã‚’ã¤ã‘ã‚‹"],ing:[["è±šã“ã¾",200],["ãˆã³",12],["ç™½èœ",0.25],["ã«ã‚“ã˜ã‚“",1]]},
"æ˜¥å·»ã":{i:"æ˜¥å·»ãã®çš®12æšã€è±šã²ãè‚‰150gã€ãŸã‘ã®ã“100gã€æ˜¥é›¨30g",s:["å…·ã‚’ç‚’ã‚ã¦åŒ…ã‚€","ã‚«ãƒªãƒƒã¨æšã’ã‚‹"],ing:[["æ˜¥å·»ãã®çš®",12],["è±šã²ãè‚‰",150],["ãŸã‘ã®ã“",1],["æ˜¥é›¨",1]]},
"ãŸã¾ã”ã‚¹ãƒ¼ãƒ—":{i:"åµ4å€‹ã€é¶ãŒã‚‰ã‚¹ãƒ¼ãƒ—ã®ç´ å¤§ã•ã˜2ã€æ°´1200ml",s:["ã‚¹ãƒ¼ãƒ—ã‚’æ²¸ã‹ã™","åµã‚’åŠ ãˆã‚‹"],ing:[["åµ",4]]},
"ä¸­è¯é¢¨å†·å¥´":{i:"è±†è…3ä¸ã€é•·ã­ã1æœ¬ã€é†¤æ²¹å¤§ã•ã˜2ã€ã”ã¾æ²¹å¤§ã•ã˜2ã€ãƒ©ãƒ¼æ²¹å°‘ã€…",s:["è±†è…ã‚’åˆ‡ã‚‹","è–¬å‘³ã¨èª¿å‘³æ–™ã‚’ã‹ã‘ã‚‹"],ing:[["è±†è…",3],["é•·ã­ã",1]]},
"ã™ãç„¼ãé¢¨ç…®è¾¼ã¿":{i:"ç‰›è‚‰500gã€ç™½èœ1/4ç‰ã€é•·ã­ã2æœ¬ã€ç„¼ãè±†è…2ä¸ã€é†¤æ²¹å¤§ã•ã˜5ã€ã¿ã‚Šã‚“å¤§ã•ã˜4ã€ç ‚ç³–å¤§ã•ã˜3",s:["ææ–™ã‚’åˆ‡ã‚‹","èª¿å‘³æ–™ã§ç…®è¾¼ã‚€"],ing:[["ç‰›è‚‰",500],["ç™½èœ",0.25],["é•·ã­ã",2],["è±†è…",2]]},
"ç™½èœã®ãŠã²ãŸã—":{i:"ç™½èœ1/4ç‰ã€ã ã—æ±100mlã€é†¤æ²¹å¤§ã•ã˜2",s:["ç™½èœã‚’èŒ¹ã§ã‚‹","ã ã—æ±ã¨é†¤æ²¹ã‚’ã‹ã‘ã‚‹"],ing:[["ç™½èœ",0.25]]},
"ã—ã„ãŸã‘ã®å‘³å™Œæ±":{i:"ã—ã„ãŸã‘1ãƒ‘ãƒƒã‚¯ã€è±†è…1ä¸ã€ã ã—æ±1200mlã€å‘³å™Œå¤§ã•ã˜5",s:["ã—ã„ãŸã‘ã‚’åˆ‡ã‚‹","ã ã—æ±ã§ç…®ã¦å‘³å™Œã‚’æº¶ã"],ing:[["ã—ã„ãŸã‘",1],["è±†è…",1]]}
};

// =====================
// çŠ¶æ…‹ç®¡ç†
// =====================
let currentUser = localStorage.getItem('kondateUser') || null;
let year = 2026, month = 0;
let selectedDay = 1;
let viewMode = 'month';
let shoppingWeek = 1;
let peopleCount = 6;
let votes = {};

const VOTER_COLORS = ['#d4af37', '#722f37', '#5c7a9b', '#6b8f71', '#9b59b6', '#e74c3c'];

// ã‚¸ãƒ£ãƒ³ãƒ«åˆ¥ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«ç”¨ï¼‰
const GENRES = {
japanese:[
{main:"é¶ã®ç…§ã‚Šç„¼ã",side:"ã»ã†ã‚Œã‚“è‰ã®ã”ã¾å’Œãˆ",soup:"è±†è…ã¨ã‚ã‹ã‚ã®å‘³å™Œæ±",salad:"ã‚­ãƒ£ãƒ™ãƒ„ã®å¡©æ˜†å¸ƒã‚µãƒ©ãƒ€"},
{main:"è±šã®ç”Ÿå§œç„¼ã",side:"ãã‚“ã´ã‚‰ã”ã¼ã†",soup:"ãªã‚ã“ã®å‘³å™Œæ±",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€"},
{main:"è‚‰ã˜ã‚ƒãŒ",side:"å°æ¾èœã®ãŠã²ãŸã—",soup:"å¤§æ ¹ã®å‘³å™Œæ±",salad:"ã‚‚ã‚„ã—ã®ãƒŠãƒ ãƒ«"},
{main:"ã‚«ãƒ¬ã‚¤ã®ç…®ä»˜ã‘",side:"ã²ã˜ãã®ç…®ç‰©",soup:"ã‚ã•ã‚Šã®å‘³å™Œæ±",salad:"ç™½èœã®æµ…æ¼¬ã‘"},
{main:"é¶ã®å”æšã’",side:"åµç„¼ã",soup:"è±šæ±",salad:"ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š"},
{main:"ã‚µãƒã®å‘³å™Œç…®",side:"åˆ‡ã‚Šå¹²ã—å¤§æ ¹",soup:"ã—ã˜ã¿ã®å‘³å™Œæ±",salad:"é…¢ã®ç‰©"},
{main:"é¯–ã®å¡©ç„¼ã",side:"åšæšã’ã®ç…®ç‰©",soup:"ã‘ã‚“ã¡ã‚“æ±",salad:"ã»ã†ã‚Œã‚“è‰ã®ç™½å’Œãˆ"},
{main:"ç‰›ä¸¼",side:"æ¸©æ³‰åµ",soup:"å‘³å™Œæ±",salad:"ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘"},
{main:"è¦ªå­ä¸¼",side:"å†·å¥´",soup:"èµ¤ã ã—",salad:"æ°´èœã‚µãƒ©ãƒ€"},
{main:"ã¶ã‚Šã®ç…§ã‚Šç„¼ã",side:"ç­‘å‰ç…®",soup:"ã‚ãŠã•ã®å‘³å™Œæ±",salad:"å¤§æ ¹ãªã¾ã™"},
{main:"è±šã®è§’ç…®",side:"ç…®åµ",soup:"ç™½èœã®å‘³å™Œæ±",salad:"ã»ã†ã‚Œã‚“è‰ãƒŠãƒ ãƒ«"},
{main:"é®­ã®ãƒ›ã‚¤ãƒ«ç„¼ã",side:"ã„ã‚“ã’ã‚“ã®èƒ¡éº»å’Œãˆ",soup:"ã‚­ãƒ£ãƒ™ãƒ„ã®å‘³å™Œæ±",salad:"ãƒãƒ³é…¢ãã®ã“"},
{main:"é¶ã®å¡©éº¹ç„¼ã",side:"ãªã™ã®ç…®ã³ãŸã—",soup:"æ²¹æšã’ã®å‘³å™Œæ±",salad:"ãã‚…ã†ã‚Šã¨ã‚ã‹ã‚ã®é…¢ã®ç‰©"},
{main:"ã™ãç„¼ãé¢¨ç…®è¾¼ã¿",side:"ç™½èœã®ãŠã²ãŸã—",soup:"ã—ã„ãŸã‘ã®å‘³å™Œæ±",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€"}
],
chinese:[
{main:"éº»å©†è±†è…",side:"æ˜¥é›¨ã‚µãƒ©ãƒ€",soup:"ä¸­è¯ã‚¹ãƒ¼ãƒ—",salad:"ãã‚…ã†ã‚Šã®æµ…æ¼¬ã‘"},
{main:"å›é‹è‚‰",side:"é¤ƒå­",soup:"é…¸è¾£æ¹¯",salad:"ãƒãƒ³ãƒãƒ³ã‚¸ãƒ¼ã‚µãƒ©ãƒ€"},
{main:"é’æ¤’è‚‰çµ²",side:"å†·å¥´",soup:"åµã¨ãƒˆãƒãƒˆã®ã‚¹ãƒ¼ãƒ—",salad:"ã‚¶ãƒ¼ã‚µã‚¤å’Œãˆ"},
{main:"ã‚¨ãƒ“ãƒãƒª",side:"é’æ¢—èœã®ç‚’ã‚",soup:"ãƒ¯ãƒ³ã‚¿ãƒ³ã‚¹ãƒ¼ãƒ—",salad:"ãã‚…ã†ã‚Šã®ä¸­è¯å’Œãˆ"},
{main:"å…«å®èœ",side:"æ˜¥å·»ã",soup:"ãŸã¾ã”ã‚¹ãƒ¼ãƒ—",salad:"ä¸­è¯é¢¨å†·å¥´"},
{main:"è±šã‚­ãƒ ãƒ",side:"ãƒãƒ‚ãƒŸ",soup:"ã‚ã‹ã‚ã‚¹ãƒ¼ãƒ—",salad:"éŸ“å›½é¢¨ã‚µãƒ©ãƒ€"}
],
western:[
{main:"ãƒãƒ³ãƒãƒ¼ã‚°",side:"ã‚³ãƒ¼ãƒ³ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—",salad:"ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€"},
{main:"ãƒã‚­ãƒ³å—è›®",side:"ã‹ã¼ã¡ã‚ƒã®ç…®ç‰©",soup:"ã‚³ãƒ¼ãƒ³ã‚¹ãƒ¼ãƒ—",salad:"ã‚¿ãƒ«ã‚¿ãƒ«ã‚µãƒ©ãƒ€"},
{main:"ã¨ã‚“ã‹ã¤",side:"ã‚­ãƒ£ãƒ™ãƒ„ã®åƒåˆ‡ã‚Š",soup:"ãªã‚ã“æ±",salad:"ãƒã‚«ãƒ­ãƒ‹ã‚µãƒ©ãƒ€"},
{main:"ã‚ªãƒ ãƒ©ã‚¤ã‚¹",side:"ã‚¦ã‚¤ãƒ³ãƒŠãƒ¼ç‚’ã‚",soup:"é‡èœã‚¹ãƒ¼ãƒ—",salad:"ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼"},
{main:"ã‚«ãƒ¬ãƒ¼ãƒ©ã‚¤ã‚¹",side:"ã‚³ãƒ¼ãƒ«ã‚¹ãƒ­ãƒ¼",soup:"ã‚³ãƒ³ã‚½ãƒ¡ã‚¹ãƒ¼ãƒ—",salad:"ã‚°ãƒªãƒ¼ãƒ³ã‚µãƒ©ãƒ€"},
{main:"é®­ã®ãƒ ãƒ‹ã‚¨ãƒ«",side:"ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼ã®ãŠã‹ã‹å’Œãˆ",soup:"åµã‚¹ãƒ¼ãƒ—",salad:"ãƒˆãƒãƒˆã¨ãã‚…ã†ã‚Šã®ã‚µãƒ©ãƒ€"},
{main:"é¶ã‚€ã­è‚‰ã®å‘³å™Œæ¼¬ã‘ç„¼ã",side:"ã‚Œã‚“ã“ã‚“ã®ãã‚“ã´ã‚‰",soup:"è±†è…ã®å‘³å™Œæ±",salad:"ã«ã‚“ã˜ã‚“ã—ã‚Šã—ã‚Š"}
],
noodle:[
{main:"ç„¼ããã°",side:"ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ä¸­è¯ã‚¹ãƒ¼ãƒ—",salad:"ã‚‚ã‚„ã—ã®ä¸­è¯ã‚µãƒ©ãƒ€"},
{main:"è±šè‚‰ã¨é‡èœã®ç‚’ã‚",side:"ãƒãƒ†ãƒˆã‚µãƒ©ãƒ€",soup:"ãŸã¾ã­ãã®å‘³å™Œæ±",salad:"ãƒˆãƒãƒˆã‚µãƒ©ãƒ€"},
{main:"é¶è‚‰ã¨ã‚­ãƒã‚³ã®ç‚’ã‚",side:"èŒ¶ç¢—è’¸ã—",soup:"ãã®ã“æ±",salad:"é’èœã®ãŠæµ¸ã—"},
{main:"ã‚¢ã‚¸ã®å—è›®æ¼¬ã‘",side:"é‡ŒèŠ‹ã®ç…®ç‰©",soup:"ãŠå¸ã„ç‰©",salad:"å¤§æ ¹ã‚µãƒ©ãƒ€"}
]
};

// =====================
// åˆæœŸåŒ–
// =====================
window.onload = function() {
  if(!currentUser) {
    document.getElementById('userSetup').style.display = 'block';
  }
  
  // ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’èª­ã¿è¾¼ã¿
  loadCustomMenus();
  
  initVoteDateOptions();
  initRequestDateOptions();
  initMenuOptions();
  loadVotes();
  loadRequests();
  renderCalendar();
  renderShop();
  renderMemos();
  setupEventListeners();
};

function initVoteDateOptions() {
  const select = document.getElementById('voteDate');
  const today = new Date();
  for(let i=0; i<7; i++) {
    const d = new Date(today);
    d.setDate(d.getDate() + i);
    const opt = document.createElement('option');
    opt.value = d.toISOString().split('T')[0];
    opt.textContent = `${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ï¼ˆ${WEEKDAYS[d.getDay()]}ï¼‰`;
    select.appendChild(opt);
  }
}

function initMenuOptions() {
  const optA = document.getElementById('optionA');
  const optB = document.getElementById('optionB');
  Object.entries(MENUS).forEach(([day, menu]) => {
    const opt1 = document.createElement('option');
    opt1.value = day;
    opt1.textContent = menu.main;
    optA.appendChild(opt1);
    
    const opt2 = document.createElement('option');
    opt2.value = day;
    opt2.textContent = menu.main;
    optB.appendChild(opt2);
  });
  optB.selectedIndex = 1;
}

function setupEventListeners() {
  // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
  document.querySelectorAll('.nav-tab').forEach(tab => {
    tab.onclick = function() {
      document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
      this.classList.add('active');
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(this.dataset.tab).classList.add('active');
    };
  });
  
  // ãƒ“ãƒ¥ãƒ¼åˆ‡ã‚Šæ›¿ãˆ
  document.querySelectorAll('.view-btn').forEach(btn => {
    btn.onclick = function() {
      document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      viewMode = this.dataset.view;
      updateView();
    };
  });
  
  // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  document.getElementById('prevNav').onclick = prevNav;
  document.getElementById('nextNav').onclick = nextNav;
  
  // ãƒ‘ãƒãƒ«
  document.getElementById('closePanel').onclick = closePanel;
  document.getElementById('overlay').onclick = closePanel;
  
  // è²·ã„ç‰©é€±
  document.querySelectorAll('.week-btn').forEach(btn => {
    btn.onclick = function() {
      document.querySelectorAll('.week-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      shoppingWeek = parseInt(this.dataset.week);
      renderShop();
      renderMemos();
    };
  });
}

// =====================
// ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
// =====================
function saveUser() {
  const name = document.getElementById('userName').value.trim();
  if(!name) {
    toast('åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
    return;
  }
  currentUser = name;
  localStorage.setItem('kondateUser', name);
  document.getElementById('userSetup').style.display = 'none';
  toast(`ã‚ˆã†ã“ãã€${name}ã•ã‚“`);
}

// =====================
// äººæ•°ç®¡ç†
// =====================
function updatePeopleCount() {
  peopleCount = parseInt(document.getElementById('peopleCount').value);
  updateView();
  renderShop();
}

// =====================
// ã‚«ãƒ­ãƒªãƒ¼è¨ˆç®—
// =====================
function getDayCalories(day) {
  const menu = MENUS[day];
  if(!menu || !menu.cal) return 0;
  return menu.cal.main + menu.cal.side + menu.cal.soup + menu.cal.salad;
}

function getCaloriePercent(calories) {
  return Math.round((calories / DAILY_CALORIE_TARGET) * 100);
}

// =====================
// ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º
// =====================
function renderCalendar() {
  const grid = document.getElementById('calendarGrid');
  const weekdays = [...grid.querySelectorAll('.weekday')];
  grid.innerHTML = '';
  weekdays.forEach(w => grid.appendChild(w));
  
  document.getElementById('monthTitle').textContent = `${year}å¹´${month+1}æœˆ`;
  
  const firstDay = new Date(year, month, 1).getDay();
  const lastDate = new Date(year, month+1, 0).getDate();
  
  for(let i=0; i<firstDay; i++) {
    const empty = document.createElement('div');
    empty.className = 'day empty';
    grid.appendChild(empty);
  }
  
  for(let d=1; d<=lastDate; d++) {
    const el = document.createElement('div');
    
    // ä»Šæ—¥ã®æ—¥ä»˜ã‚’å–å¾—
    const today = new Date();
    const cellDate = new Date(year, month, d);
    const isToday = today.getFullYear() === year && today.getMonth() === month && today.getDate() === d;
    const isPast = cellDate < new Date(today.getFullYear(), today.getMonth(), today.getDate());
    
    el.className = 'day' + (isToday ? ' today' : '') + (isPast ? ' past' : '');
    el.dataset.day = d;
    el.style.position = 'relative';
    
    const menu = MENUS[d];
    const cal = getDayCalories(d);
    
    el.innerHTML = `
      <div class="day-num">${d}</div>
      ${menu ? `<div class="day-menu">${menu.main}</div>` : ''}
      ${cal ? `<div class="day-cal">${cal}kcal</div>` : ''}
      ${isPast ? '<div class="day-done">æ¸ˆ</div>' : ''}
    `;
    el.onclick = () => openPanel(d);
    grid.appendChild(el);
  }
}

function renderWeekView() {
  const container = document.getElementById('weekView');
  const weekStart = selectedDay - new Date(year, month, selectedDay).getDay();
  const lastDate = new Date(year, month+1, 0).getDate();
  
  document.getElementById('monthTitle').textContent = `${year}å¹´${month+1}æœˆ ç¬¬${Math.ceil(selectedDay/7)}é€±`;
  
  let html = '<div class="week-grid">';
  for(let i=0; i<7; i++) {
    const d = weekStart + i;
    if(d < 1 || d > lastDate) continue;
    
    const menu = MENUS[d];
    const dow = new Date(year, month, d).getDay();
    const dayClass = dow === 0 ? 'sun' : dow === 6 ? 'sat' : '';
    const cal = getDayCalories(d);
    const pct = getCaloriePercent(cal);
    
    // éå»æ—¥åˆ¤å®š
    const today = new Date();
    const cellDate = new Date(year, month, d);
    const isPast = cellDate < new Date(today.getFullYear(), today.getMonth(), today.getDate());
    const isToday = today.getFullYear() === year && today.getMonth() === month && today.getDate() === d;
    
    html += `
      <div class="week-card ${isPast ? 'past' : ''} ${isToday ? 'today' : ''}" onclick="openPanel(${d})" style="position:relative;${isPast ? 'opacity:0.6;' : ''}">
        <div class="week-card-header">
          <span class="week-card-date">${d}æ—¥</span>
          <span class="week-card-day ${dayClass}">${WEEKDAYS[dow]}æ›œæ—¥</span>
        </div>
        ${menu ? `
          <div class="week-card-menu">
            <div class="week-menu-item"><div class="week-menu-label">ãƒ¡ã‚¤ãƒ³</div><div class="week-menu-name">${menu.main}</div></div>
            <div class="week-menu-item"><div class="week-menu-label">å‰¯èœ</div><div class="week-menu-name">${menu.side}</div></div>
            <div class="week-menu-item"><div class="week-menu-label">æ±ç‰©</div><div class="week-menu-name">${menu.soup}</div></div>
            <div class="week-menu-item"><div class="week-menu-label">ã‚µãƒ©ãƒ€</div><div class="week-menu-name">${menu.salad}</div></div>
          </div>
          <div class="week-card-footer">
            <span class="week-cal">${cal}kcal</span>
            <span class="week-cal-percent">ï¼ˆ1æ—¥ã®${pct}%ï¼‰</span>
          </div>
          ${isPast ? '<div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2.5rem;color:var(--gold);opacity:0.2;font-weight:700;pointer-events:none;">æ¸ˆ</div>' : ''}
        ` : ''}
      </div>
    `;
  }
  html += '</div>';
  container.innerHTML = html;
}

function renderDayView() {
  const container = document.getElementById('dayView');
  const menu = MENUS[selectedDay];
  const dow = new Date(year, month, selectedDay).getDay();
  const cal = getDayCalories(selectedDay);
  const pct = getCaloriePercent(cal);
  
  document.getElementById('monthTitle').textContent = `${year}å¹´${month+1}æœˆ${selectedDay}æ—¥`;
  
  let html = `
    <div class="day-detail">
      <div class="day-detail-header">
        <div class="day-detail-date">${month+1}/${selectedDay}</div>
        <div class="day-detail-weekday">${WEEKDAYS[dow]}æ›œæ—¥</div>
      </div>
      <div class="day-detail-nav">
        <button class="day-nav-btn" onclick="moveDay(-1)">â—€ å‰æ—¥</button>
        <button class="day-nav-btn" onclick="moveDay(1)">ç¿Œæ—¥ â–¶</button>
      </div>
      <div class="day-detail-content">
  `;
  
  if(menu) {
    const items = [['main','ğŸ– ãƒ¡ã‚¤ãƒ³'],['side','ğŸ¥— å‰¯èœ'],['soup','ğŸ² æ±ç‰©'],['salad','ğŸ¥¬ ã‚µãƒ©ãƒ€']];
    items.forEach(([key, label]) => {
      const itemCal = menu.cal ? menu.cal[key] : 0;
      html += `
        <div class="day-menu-card">
          <div class="day-menu-label">${label}</div>
          <div class="day-menu-name serif">${menu[key]}</div>
          <div class="day-menu-cal">${itemCal}kcal / 1äººå‰</div>
        </div>
      `;
    });
    
    html += `
      <div class="day-total-cal">
        <div class="day-total-label">1äººã‚ãŸã‚Šåˆè¨ˆã‚«ãƒ­ãƒªãƒ¼</div>
        <div class="day-total-value">${cal}kcal</div>
        <div class="day-total-percent">1æ—¥ã®ç›®å®‰ï¼ˆ${DAILY_CALORIE_TARGET}kcalï¼‰ã®${pct}%</div>
      </div>
    `;
  }
  
  html += '</div></div>';
  container.innerHTML = html;
}

function updateView() {
  document.getElementById('monthView').style.display = viewMode === 'month' ? 'block' : 'none';
  document.getElementById('weekView').style.display = viewMode === 'week' ? 'block' : 'none';
  document.getElementById('weekView').className = viewMode === 'week' ? 'week-view active' : 'week-view';
  document.getElementById('dayView').style.display = viewMode === 'day' ? 'block' : 'none';
  document.getElementById('dayView').className = viewMode === 'day' ? 'day-view active' : 'day-view';
  
  if(viewMode === 'month') renderCalendar();
  else if(viewMode === 'week') renderWeekView();
  else renderDayView();
}

function prevNav() {
  if(viewMode === 'month') {
    month--;
    if(month < 0) { month = 11; year--; }
    renderCalendar();
  } else if(viewMode === 'week') {
    selectedDay -= 7;
    if(selectedDay < 1) {
      month--;
      if(month < 0) { month = 11; year--; }
      selectedDay = new Date(year, month+1, 0).getDate() + selectedDay;
    }
    renderWeekView();
  } else {
    moveDay(-1);
  }
}

function nextNav() {
  const lastDate = new Date(year, month+1, 0).getDate();
  if(viewMode === 'month') {
    month++;
    if(month > 11) { month = 0; year++; }
    renderCalendar();
  } else if(viewMode === 'week') {
    selectedDay += 7;
    if(selectedDay > lastDate) {
      selectedDay -= lastDate;
      month++;
      if(month > 11) { month = 0; year++; }
    }
    renderWeekView();
  } else {
    moveDay(1);
  }
}

function moveDay(dir) {
  const lastDate = new Date(year, month+1, 0).getDate();
  selectedDay += dir;
  if(selectedDay < 1) {
    month--;
    if(month < 0) { month = 11; year--; }
    selectedDay = new Date(year, month+1, 0).getDate();
  } else if(selectedDay > lastDate) {
    month++;
    if(month > 11) { month = 0; year++; }
    selectedDay = 1;
  }
  renderDayView();
}

// =====================
// ãƒ‘ãƒãƒ«
// =====================
function openPanel(d) {
  selectedDay = d;
  const menu = MENUS[d];
  if(!menu) return;
  
  const dow = new Date(year, month, d).getDay();
  const cal = getDayCalories(d);
  const pct = getCaloriePercent(cal);
  
  document.getElementById('panelDate').textContent = `${month+1}æœˆ${d}æ—¥ï¼ˆ${WEEKDAYS[dow]}ï¼‰`;
  document.getElementById('panelSub').textContent = `${peopleCount}äººå‰`;
  
  const content = document.getElementById('panelContent');
  let html = `
    <div class="genre-box">
      <div class="genre-title">ğŸ”„ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å¤‰æ›´</div>
      <div class="genre-btns">
        <button class="genre-btn wa" onclick="changeMenu(${d}, 'japanese')">ğŸ± å’Œé£Ÿ</button>
        <button class="genre-btn ch" onclick="changeMenu(${d}, 'chinese')">ğŸ¥Ÿ ä¸­è¯</button>
        <button class="genre-btn we" onclick="changeMenu(${d}, 'western')">ğŸ³ æ´‹é£Ÿ</button>
        <button class="genre-btn me" onclick="changeMenu(${d}, 'noodle')">ğŸœ éººä¸¼</button>
        <button class="genre-btn ra" onclick="changeMenu(${d}, 'random')">ğŸ² ãŠã¾ã‹ã›</button>
      </div>
    </div>
    <div class="panel-cal-summary">
      <div class="panel-cal-value">${cal}kcal</div>
      <div class="panel-cal-label">1äººã‚ãŸã‚Šï¼ˆç›®å®‰ã®${pct}%ï¼‰</div>
    </div>
  `;
  
  const items = [['main','ãƒ¡ã‚¤ãƒ³','#d4af37'],['side','å‰¯èœ','#8fbc8f'],['soup','æ±ç‰©','#64b5f6'],['salad','ã‚µãƒ©ãƒ€','#81c784']];
  items.forEach(([key, label, color]) => {
    const name = menu[key];
    const itemCal = menu.cal ? menu.cal[key] : 0;
    const recipe = RECIPES[name];
    
    html += `
      <div class="dish-card">
        <div class="dish-header" onclick="toggleRecipe('${key}${d}')">
          <div class="dish-name">
            ${name}
            <span class="dish-tag ${key}">${label}</span>
          </div>
          <div style="display:flex;align-items:center;gap:0.5rem;">
            <span class="dish-cal">${itemCal}kcal</span>
            <span class="dish-toggle" id="toggle-${key}${d}">â–¼</span>
          </div>
        </div>
        <div class="recipe" id="recipe-${key}${d}">
          <a href="https://www.google.com/search?q=${encodeURIComponent(name + ' ãƒ¬ã‚·ãƒ”')}" target="_blank" class="recipe-link">ğŸ” ãƒ¬ã‚·ãƒ”ã‚’æ¤œç´¢</a>
          ${recipe ? `
            <div class="recipe-title">ğŸ“ ææ–™ï¼ˆ${peopleCount}äººå‰ï¼‰</div>
            <div class="recipe-text">${recipe.i}</div>
            <div class="recipe-title">ğŸ‘¨â€ğŸ³ ä½œã‚Šæ–¹</div>
            <ol class="recipe-steps">${recipe.s.map(step => '<li>' + step + '</li>').join('')}</ol>
          ` : ''}
        </div>
      </div>
    `;
  });
  
  content.innerHTML = html;
  document.getElementById('panel').classList.add('open');
  document.getElementById('overlay').classList.add('active');
}

function toggleRecipe(id) {
  const recipe = document.getElementById('recipe-' + id);
  const toggle = document.getElementById('toggle-' + id);
  if(recipe) {
    recipe.classList.toggle('open');
    if(toggle) toggle.classList.toggle('open');
  }
}

function closePanel() {
  document.getElementById('panel').classList.remove('open');
  document.getElementById('overlay').classList.remove('active');
}

// =====================
// æŠ•ç¥¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚·ãƒ£ãƒƒãƒ•ãƒ«
// =====================
function shuffleOption(option) {
  const select = document.getElementById('option' + option);
  const otherSelect = document.getElementById('option' + (option === 'A' ? 'B' : 'A'));
  const otherValue = otherSelect.value;
  
  // å…¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠï¼ˆã‚‚ã†ç‰‡æ–¹ã¨è¢«ã‚‰ãªã„ã‚ˆã†ã«ï¼‰
  const allOptions = Array.from(select.options).map(opt => opt.value);
  const availableOptions = allOptions.filter(val => val !== otherValue);
  
  if(availableOptions.length > 0) {
    const randomIndex = Math.floor(Math.random() * availableOptions.length);
    select.value = availableOptions[randomIndex];
  }
  
  toast(`å€™è£œ${option}ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¾ã—ãŸï¼`);
}

// =====================
// æŠ•ç¥¨æ©Ÿèƒ½
// =====================
function loadVotes() {
  if(firebaseEnabled && db) {
    db.ref('votes').on('value', (snapshot) => {
      votes = snapshot.val() || {};
      renderVotes();
    });
  } else {
    // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰èª­ã¿è¾¼ã¿
    const saved = localStorage.getItem('kondateVotes');
    votes = saved ? JSON.parse(saved) : {};
    renderVotes();
  }
}

function saveVotes() {
  if(firebaseEnabled && db) {
    db.ref('votes').set(votes);
  } else {
    localStorage.setItem('kondateVotes', JSON.stringify(votes));
  }
}

function createVote() {
  if(!currentUser) {
    document.getElementById('userSetup').style.display = 'block';
    return;
  }
  
  const date = document.getElementById('voteDate').value;
  const optA = document.getElementById('optionA').value;
  const optB = document.getElementById('optionB').value;
  
  if(optA === optB) {
    toast('é•ã†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸ã‚“ã§ãã ã•ã„');
    return;
  }
  
  const voteId = 'vote_' + date;
  votes[voteId] = {
    date: date,
    options: [
      { menuId: parseInt(optA), votes: [] },
      { menuId: parseInt(optB), votes: [] }
    ],
    createdBy: currentUser
  };
  
  saveVotes();
  renderVotes();
  toast('æŠ•ç¥¨ã‚’ä½œæˆã—ã¾ã—ãŸ');
}

function submitVote(voteId, optionIndex) {
  if(!currentUser) {
    document.getElementById('userSetup').style.display = 'block';
    return;
  }
  
  const vote = votes[voteId];
  if(!vote) return;
  
  // æ—¢ã«æŠ•ç¥¨æ¸ˆã¿ã‹ç¢ºèª
  let alreadyVoted = false;
  vote.options.forEach(opt => {
    if(opt.votes && opt.votes.includes(currentUser)) alreadyVoted = true;
  });
  
  if(alreadyVoted) {
    toast('ã™ã§ã«æŠ•ç¥¨æ¸ˆã¿ã§ã™');
    return;
  }
  
  if(!vote.options[optionIndex].votes) {
    vote.options[optionIndex].votes = [];
  }
  vote.options[optionIndex].votes.push(currentUser);
  
  saveVotes();
  renderVotes();
  toast('æŠ•ç¥¨ã—ã¾ã—ãŸï¼');
}

function renderVotes() {
  const container = document.getElementById('voteList');
  
  if(Object.keys(votes).length === 0) {
    container.innerHTML = '<div style="text-align:center;color:var(--text-muted);padding:3rem;">ã¾ã æŠ•ç¥¨ãŒã‚ã‚Šã¾ã›ã‚“</div>';
    return;
  }
  
  let html = '';
  Object.entries(votes).forEach(([voteId, vote]) => {
    const d = new Date(vote.date);
    const dateStr = `${d.getMonth()+1}æœˆ${d.getDate()+1}æ—¥`;
    
    const votes0 = vote.options[0].votes ? vote.options[0].votes.length : 0;
    const votes1 = vote.options[1].votes ? vote.options[1].votes.length : 0;
    const total = votes0 + votes1;
    const pct0 = total > 0 ? Math.round(votes0 / total * 100) : 0;
    const pct1 = total > 0 ? Math.round(votes1 / total * 100) : 0;
    
    const menu0 = MENUS[vote.options[0].menuId];
    const menu1 = MENUS[vote.options[1].menuId];
    
    const winner = votes0 > votes1 ? 0 : votes1 > votes0 ? 1 : null;
    
    html += `
      <div class="vote-card">
        <div class="vote-title">
          <span style="background:var(--burgundy);color:var(--gold-light);padding:0.3rem 0.8rem;border-radius:6px;font-size:0.85rem;">${dateStr}</span>
          <span style="color:var(--text-primary);font-weight:400;margin-left:0.5rem;">ã®çŒ®ç«‹</span>
        </div>
    `;
    
    [0, 1].forEach(idx => {
      const menu = idx === 0 ? menu0 : menu1;
      const voteCount = idx === 0 ? votes0 : votes1;
      const pct = idx === 0 ? pct0 : pct1;
      const isWinner = winner === idx;
      const voterList = vote.options[idx].votes || [];
      
      html += `
        <div class="vote-option ${isWinner ? 'winner' : ''}" onclick="submitVote('${voteId}', ${idx})">
          <div class="vote-option-header">
            <span class="vote-option-label">${idx === 0 ? 'A' : 'B'}</span>
            <span class="vote-option-count">${voteCount}ç¥¨</span>
          </div>
          <div class="vote-option-name serif">${menu ? menu.main : 'ä¸æ˜'}</div>
          <div class="vote-option-sub">${menu ? `${menu.side} / ${menu.soup}` : ''}</div>
          ${voterList.length > 0 ? `
            <div class="voters">
              ${voterList.map((v, i) => `<span class="voter" style="background:${VOTER_COLORS[i % VOTER_COLORS.length]}">${v.charAt(0)}</span>`).join('')}
            </div>
          ` : ''}
          <div class="vote-bar" style="width:${pct}%"></div>
        </div>
      `;
    });
    
    if(total > 0 && winner !== null) {
      const winnerMenu = winner === 0 ? menu0 : menu1;
      html += `
        <div class="vote-result">ğŸ‰ ${winnerMenu ? winnerMenu.main : ''} ãŒå„ªå‹¢ï¼</div>
        <button class="apply-btn" onclick="applyVoteResult('${voteId}')">ğŸ“… ã“ã®çŒ®ç«‹ã‚’åæ˜ ã™ã‚‹</button>
      `;
    } else {
      html += `<div class="vote-pending">ã‚¿ãƒƒãƒ—ã—ã¦æŠ•ç¥¨ã—ã¦ã­</div>`;
    }
    
    html += '</div>';
  });
  
  container.innerHTML = html;
  
  // ãƒ©ãƒ³ã‚­ãƒ³ã‚°æ›´æ–°
  renderRanking();
}

function shareToLine() {
  const text = `ğŸ½ï¸ çŒ®ç«‹ã®æŠ•ç¥¨ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼\n\nä¸‹ã®ãƒªãƒ³ã‚¯ã‹ã‚‰æŠ•ç¥¨ã—ã¦ã­ğŸ‘‡\n${window.location.href}`;
  window.open(`https://line.me/R/msg/text/?${encodeURIComponent(text)}`, '_blank');
}

// =====================
// è²·ã„ç‰©ãƒªã‚¹ãƒˆ
// =====================
function renderShop() {
  const grid = document.getElementById('shopGrid');
  const priceEl = document.getElementById('priceEstimate');
  
  // äººæ•°ã«å¿œã˜ãŸå€ç‡
  const ratio = peopleCount / 6;
  
  // ä»®ã®è²·ã„ç‰©ãƒ‡ãƒ¼ã‚¿
  const categories = {
    meat: { name: 'ğŸ¥© è‚‰é¡', items: {'é¶ã‚‚ã‚‚è‚‰': 900 * ratio, 'è±šãƒ­ãƒ¼ã‚¹': 600 * ratio, 'åˆã„æŒ½ã': 400 * ratio} },
    fish: { name: 'ğŸŸ é­šä»‹', items: {'é®­': Math.ceil(6 * ratio), 'ã‚µãƒ': Math.ceil(4 * ratio)} },
    veg: { name: 'ğŸ¥¬ é‡èœ', items: {'ç‰ã­ã': Math.ceil(4 * ratio), 'ã«ã‚“ã˜ã‚“': Math.ceil(3 * ratio), 'ã‚­ãƒ£ãƒ™ãƒ„': Math.ceil(1 * ratio)} },
    dairy: { name: 'ğŸ¥š åµãƒ»ä¹³è£½å“', items: {'åµ': Math.ceil(12 * ratio), 'è±†è…': Math.ceil(4 * ratio)} },
    season: { name: 'ğŸ§‚ èª¿å‘³æ–™', items: {'é†¤æ²¹': 1, 'ã¿ã‚Šã‚“': 1} },
    other: { name: 'ğŸ›’ ãã®ä»–', items: {'ç±³': Math.ceil(2 * ratio)} }
  };
  
  let html = '';
  let totalPrice = 0;
  
  Object.entries(categories).forEach(([cat, data]) => {
    html += `
      <div class="cat-card">
        <div class="cat-header ${cat}">${data.name}</div>
        <div class="cat-items">
    `;
    
    Object.entries(data.items).forEach(([name, amt]) => {
      // ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ã‚¢ã‚¤ãƒ†ãƒ ã¯ã‚¹ã‚­ãƒƒãƒ—
      const weekKey = 'week' + shoppingWeek;
      if(checkedItems[weekKey] && checkedItems[weekKey].includes(name)) return;
      
      const info = INGREDIENTS[name] || { unit: '', price: 100 };
      let amtStr = '';
      if(info.unit === 'g') {
        amtStr = amt >= 1000 ? `${(amt/1000).toFixed(1)}kg` : `${Math.round(amt)}g`;
      } else {
        amtStr = `${Math.round(amt)}${info.unit}`;
      }
      totalPrice += info.price * amt;
      
      html += `
        <div class="shop-item">
          <div class="item-check" onclick="checkItem(this)"></div>
          <span class="item-name">${name}</span>
          <span class="item-amt">${amtStr}</span>
        </div>
      `;
    });
    
    html += '</div></div>';
  });
  
  grid.innerHTML = html;
  
  // ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
  updateCheckedCount();
  
  priceEl.innerHTML = `
    <div class="price-title">ğŸ’° ç¬¬${shoppingWeek}é€±ã®è³¼å…¥ä¾¡æ ¼äºˆæƒ³ï¼ˆ${peopleCount}äººå‰ï¼‰</div>
    <div class="price-total">åˆè¨ˆï¼šç´„${Math.round(totalPrice).toLocaleString()}å††</div>
  `;
}

function copyList() {
  const ratio = peopleCount / 6;
  let text = `ã€ç¬¬${shoppingWeek}é€±ã®è²·ã„ç‰©ãƒªã‚¹ãƒˆï¼ˆ${peopleCount}äººå‰ï¼‰ã€‘\n\n`;
  text += `â–  è‚‰é¡\nãƒ»é¶ã‚‚ã‚‚è‚‰: ${Math.round(900*ratio)}g\nãƒ»è±šãƒ­ãƒ¼ã‚¹: ${Math.round(600*ratio)}g\n\n`;
  text += `â–  é­šä»‹\nãƒ»é®­: ${Math.ceil(6*ratio)}åˆ‡\n\n`;
  text += `â–  é‡èœ\nãƒ»ç‰ã­ã: ${Math.ceil(4*ratio)}å€‹\nãƒ»ã«ã‚“ã˜ã‚“: ${Math.ceil(3*ratio)}æœ¬\n`;
  
  navigator.clipboard.writeText(text).then(() => toast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ'));
}

// =====================
// ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
// =====================
let requests = JSON.parse(localStorage.getItem('kondateRequests') || '[]');

const GENRE_NAMES = {
  japanese: 'ğŸ± å’Œé£Ÿ',
  chinese: 'ğŸ¥Ÿ ä¸­è¯',
  western: 'ğŸ³ æ´‹é£Ÿ',
  noodle: 'ğŸœ éººãƒ»ä¸¼'
};

function initRequestDateOptions() {
  const select = document.getElementById('requestDate');
  const today = new Date();
  for(let i=0; i<14; i++) {
    const d = new Date(today);
    d.setDate(d.getDate() + i);
    const opt = document.createElement('option');
    opt.value = d.toISOString().split('T')[0];
    opt.textContent = `${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ï¼ˆ${WEEKDAYS[d.getDay()]}ï¼‰`;
    select.appendChild(opt);
  }
}

function updateRequestMenuOptions() {
  const genre = document.getElementById('requestGenre').value;
  const menuSelect = document.getElementById('requestMenu');
  
  menuSelect.innerHTML = '';
  
  if(!genre) {
    menuSelect.innerHTML = '<option value="">-- ã¾ãšã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ --</option>';
    menuSelect.disabled = true;
    return;
  }
  
  menuSelect.disabled = false;
  menuSelect.innerHTML = '<option value="">-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠ --</option>';
  
  const menus = GENRES[genre];
  menus.forEach((menu, index) => {
    const opt = document.createElement('option');
    opt.value = JSON.stringify(menu);
    opt.textContent = menu.main;
    menuSelect.appendChild(opt);
  });
}

function submitRequest() {
  if(!currentUser) {
    document.getElementById('userSetup').style.display = 'block';
    toast('ã¾ãšåå‰ã‚’è¨­å®šã—ã¦ã­');
    return;
  }
  
  const date = document.getElementById('requestDate').value;
  const genre = document.getElementById('requestGenre').value;
  const menuJson = document.getElementById('requestMenu').value;
  
  if(!genre) {
    toast('ã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠã—ã¦ã­');
    return;
  }
  
  if(!menuJson) {
    toast('ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ã­');
    return;
  }
  
  const menu = JSON.parse(menuJson);
  
  const request = {
    id: Date.now(),
    date: date,
    genre: genre,
    genreName: GENRE_NAMES[genre],
    menu: menu,
    user: currentUser,
    createdAt: new Date().toISOString()
  };
  
  requests.unshift(request);
  
  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  localStorage.setItem('kondateRequests', JSON.stringify(requests));
  
  // Firebaseã«ã‚‚ä¿å­˜ï¼ˆæœ‰åŠ¹ãªå ´åˆï¼‰
  if(firebaseEnabled && db) {
    db.ref('requests/' + request.id).set(request);
  }
  
  // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
  document.getElementById('requestGenre').value = '';
  document.getElementById('requestMenu').innerHTML = '<option value="">-- ã¾ãšã‚¸ãƒ£ãƒ³ãƒ«ã‚’é¸æŠ --</option>';
  document.getElementById('requestMenu').disabled = true;
  
  renderRequests();
  toast('ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã—ã¾ã—ãŸï¼');
}

function deleteRequest(id) {
  requests = requests.filter(r => r.id !== id);
  localStorage.setItem('kondateRequests', JSON.stringify(requests));
  
  if(firebaseEnabled && db) {
    db.ref('requests/' + id).remove();
  }
  
  renderRequests();
}

function applyRequest(id) {
  const req = requests.find(r => r.id === id);
  if(!req || !req.menu) return;
  
  const d = new Date(req.date);
  const day = d.getDate();
  
  // MENUSã‚’æ›´æ–°
  MENUS[day] = {
    ...MENUS[day],
    main: req.menu.main,
    side: req.menu.side,
    soup: req.menu.soup,
    salad: req.menu.salad,
    cal: { main: 350, side: 100, soup: 60, salad: 40 }
  };
  
  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  let customMenus = JSON.parse(localStorage.getItem('kondateCustomMenus') || '{}');
  customMenus[day] = MENUS[day];
  localStorage.setItem('kondateCustomMenus', JSON.stringify(customMenus));
  
  // ç”»é¢æ›´æ–°
  if(viewMode === 'month') renderCalendar();
  else if(viewMode === 'week') renderWeekView();
  else renderDayView();
  
  toast(`${req.menu.main}ã‚’${day}æ—¥ã®çŒ®ç«‹ã«åæ˜ ã—ã¾ã—ãŸï¼`);
}

function renderRequests() {
  const container = document.getElementById('requestList');
  
  if(requests.length === 0) {
    container.innerHTML = '<div class="request-empty">ã¾ã ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã‚Šã¾ã›ã‚“</div>';
    return;
  }
  
  let html = '';
  requests.slice(0, 10).forEach(req => {
    const d = new Date(req.date);
    const dateStr = `${d.getMonth()+1}/${d.getDate()}ï¼ˆ${WEEKDAYS[d.getDay()]}ï¼‰`;
    const canDelete = req.user === currentUser;
    const menuName = req.menu ? req.menu.main : req.text || 'ä¸æ˜';
    
    html += `
      <div class="request-item">
        ${canDelete ? `<button class="request-item-delete" onclick="deleteRequest(${req.id})">âœ•</button>` : ''}
        <div class="request-item-header">
          <span class="request-item-date">ğŸ“… ${dateStr}</span>
          <span class="request-item-user">ğŸ‘¤ ${req.user}</span>
        </div>
        <div class="request-item-content">
          <span class="request-item-genre">${req.genreName || ''}</span>
          <span class="request-item-text">ã€Œ${menuName}ã€</span>
        </div>
        ${req.menu ? `<button class="request-apply-btn" onclick="applyRequest(${req.id})">ğŸ“… ã“ã®çŒ®ç«‹ã‚’åæ˜ </button>` : ''}
      </div>
    `;
  });
  
  container.innerHTML = html;
}

function loadRequests() {
  if(firebaseEnabled && db) {
    db.ref('requests').orderByChild('createdAt').limitToLast(20).on('value', (snapshot) => {
      const data = snapshot.val();
      if(data) {
        requests = Object.values(data).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        renderRequests();
      }
    });
  } else {
    renderRequests();
  }
}

// =====================
// ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¤‰æ›´ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‰
// =====================
function changeMenu(day, genre) {
  let menuList;
  if(genre === 'random') {
    menuList = [...GENRES.japanese, ...GENRES.chinese, ...GENRES.western, ...GENRES.noodle];
  } else {
    menuList = GENRES[genre];
  }
  
  const picked = menuList[Math.floor(Math.random() * menuList.length)];
  
  // MENUSã‚’æ›´æ–°
  MENUS[day] = {
    ...MENUS[day],
    main: picked.main,
    side: picked.side,
    soup: picked.soup,
    salad: picked.salad
  };
  
  // ã‚«ãƒ­ãƒªãƒ¼ã‚‚æ›´æ–°ï¼ˆç°¡æ˜“çš„ã«å¹³å‡å€¤ã‚’è¨­å®šï¼‰
  MENUS[day].cal = {
    main: 350,
    side: 100,
    soup: 60,
    salad: 40
  };
  
  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  let customMenus = JSON.parse(localStorage.getItem('kondateCustomMenus') || '{}');
  customMenus[day] = MENUS[day];
  localStorage.setItem('kondateCustomMenus', JSON.stringify(customMenus));
  
  // ç”»é¢æ›´æ–°
  if(viewMode === 'month') renderCalendar();
  else if(viewMode === 'week') renderWeekView();
  else renderDayView();
  
  // ãƒ‘ãƒãƒ«ã‚‚æ›´æ–°
  openPanel(day);
  
  toast(`${day}æ—¥ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å¤‰æ›´ã—ã¾ã—ãŸï¼`);
}

// =====================
// äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°
// =====================
function calculateRanking() {
  const wins = {};
  
  Object.values(votes).forEach(vote => {
    const votes0 = vote.options[0].votes ? vote.options[0].votes.length : 0;
    const votes1 = vote.options[1].votes ? vote.options[1].votes.length : 0;
    
    // æŠ•ç¥¨ãŒã‚ã‚‹å ´åˆã®ã¿ã‚«ã‚¦ãƒ³ãƒˆ
    if(votes0 + votes1 > 0) {
      let winnerMenuId = null;
      if(votes0 > votes1) {
        winnerMenuId = vote.options[0].menuId;
      } else if(votes1 > votes0) {
        winnerMenuId = vote.options[1].menuId;
      }
      
      if(winnerMenuId !== null) {
        const menu = MENUS[winnerMenuId];
        if(menu) {
          const menuName = menu.main;
          wins[menuName] = (wins[menuName] || 0) + 1;
        }
      }
    }
  });
  
  // ã‚½ãƒ¼ãƒˆã—ã¦ä¸Šä½5ä»¶ã‚’è¿”ã™
  const sorted = Object.entries(wins)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 5);
  
  return sorted;
}

function renderRanking() {
  const container = document.getElementById('rankingList');
  const ranking = calculateRanking();
  
  if(ranking.length === 0) {
    container.innerHTML = '<div class="ranking-empty">ã¾ã æŠ•ç¥¨çµæœãŒã‚ã‚Šã¾ã›ã‚“</div>';
    return;
  }
  
  let html = '';
  ranking.forEach(([name, wins], index) => {
    let rankClass = '';
    if(index === 0) rankClass = 'gold';
    else if(index === 1) rankClass = 'silver';
    else if(index === 2) rankClass = 'bronze';
    
    html += `
      <div class="ranking-item ${rankClass}">
        <div class="ranking-rank">${index + 1}</div>
        <div class="ranking-name">${name}</div>
        <div class="ranking-wins">${wins}å‹</div>
      </div>
    `;
  });
  
  container.innerHTML = html;
}

// =====================
// è²·ã„ç‰©ãƒ¡ãƒ¢
// =====================
let memos = JSON.parse(localStorage.getItem('kondateMemos') || '{}');

function addMemo() {
  const input = document.getElementById('memoInput');
  const text = input.value.trim();
  if(!text) return;
  
  const weekKey = 'week' + shoppingWeek;
  if(!memos[weekKey]) memos[weekKey] = [];
  memos[weekKey].push(text);
  localStorage.setItem('kondateMemos', JSON.stringify(memos));
  
  input.value = '';
  renderMemos();
  toast('ãƒ¡ãƒ¢ã‚’è¿½åŠ ã—ã¾ã—ãŸ');
}

function deleteMemo(index) {
  const weekKey = 'week' + shoppingWeek;
  if(memos[weekKey]) {
    memos[weekKey].splice(index, 1);
    localStorage.setItem('kondateMemos', JSON.stringify(memos));
    renderMemos();
  }
}

function renderMemos() {
  const container = document.getElementById('memoList');
  const weekKey = 'week' + shoppingWeek;
  const weekMemos = memos[weekKey] || [];
  
  if(weekMemos.length === 0) {
    container.innerHTML = '';
    return;
  }
  
  let html = '';
  weekMemos.forEach((memo, index) => {
    html += `
      <div class="memo-item">
        <span class="memo-item-name">ğŸ“Œ ${memo}</span>
        <button class="memo-item-delete" onclick="deleteMemo(${index})">âœ•</button>
      </div>
    `;
  });
  container.innerHTML = html;
}

// =====================
// æŠ•ç¥¨çµæœã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«åæ˜ 
// =====================
function applyVoteResult(voteId) {
  const vote = votes[voteId];
  if(!vote) return;
  
  const votes0 = vote.options[0].votes ? vote.options[0].votes.length : 0;
  const votes1 = vote.options[1].votes ? vote.options[1].votes.length : 0;
  
  if(votes0 === votes1) {
    toast('åŒç¥¨ã®ãŸã‚åæ˜ ã§ãã¾ã›ã‚“');
    return;
  }
  
  const winnerMenuId = votes0 > votes1 ? vote.options[0].menuId : vote.options[1].menuId;
  const winnerMenu = MENUS[winnerMenuId];
  
  // æ—¥ä»˜ã‚’è§£æ
  const voteDate = new Date(vote.date);
  const day = voteDate.getDate();
  
  // ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«åæ˜ ï¼ˆãƒ¡ãƒ¢ãƒªä¸Šã®MENUSã‚’æ›´æ–°ï¼‰
  MENUS[day] = winnerMenu;
  
  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  let customMenus = JSON.parse(localStorage.getItem('kondateCustomMenus') || '{}');
  customMenus[day] = winnerMenuId;
  localStorage.setItem('kondateCustomMenus', JSON.stringify(customMenus));
  
  // è¡¨ç¤ºæ›´æ–°
  if(viewMode === 'month') renderCalendar();
  else if(viewMode === 'week') renderWeekView();
  else renderDayView();
  
  toast(`${winnerMenu.main}ã‚’${day}æ—¥ã®çŒ®ç«‹ã«åæ˜ ã—ã¾ã—ãŸï¼`);
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’èª­ã¿è¾¼ã¿
function loadCustomMenus() {
  const customMenus = JSON.parse(localStorage.getItem('kondateCustomMenus') || '{}');
  Object.entries(customMenus).forEach(([day, menuData]) => {
    // menuDataãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«ã§ä¿å­˜ï¼‰ã®å ´åˆ
    if(typeof menuData === 'object' && menuData.main) {
      MENUS[parseInt(day)] = menuData;
    }
    // menuDataãŒæ•°å€¤ï¼ˆæŠ•ç¥¨åæ˜ ã§ä¿å­˜ï¼‰ã®å ´åˆ
    else if(typeof menuData === 'number' && MENUS[menuData]) {
      MENUS[parseInt(day)] = {...MENUS[menuData]};
    }
  });
}

// =====================
// è²·ã„ç‰©ãƒã‚§ãƒƒã‚¯
// =====================
let checkedItems = JSON.parse(localStorage.getItem('kondateChecked') || '{}');

function checkItem(el) {
  const item = el.parentElement;
  const itemName = item.querySelector('.item-name').textContent;
  const weekKey = 'week' + shoppingWeek;
  
  if(!checkedItems[weekKey]) checkedItems[weekKey] = [];
  checkedItems[weekKey].push(itemName);
  localStorage.setItem('kondateChecked', JSON.stringify(checkedItems));
  
  el.classList.add('checked');
  el.innerHTML = 'âœ“';
  item.classList.add('checked');
  
  updateCheckedCount();
}

function resetCheckedItems() {
  const weekKey = 'week' + shoppingWeek;
  checkedItems[weekKey] = [];
  localStorage.setItem('kondateChecked', JSON.stringify(checkedItems));
  renderShop();
  toast('ãƒã‚§ãƒƒã‚¯ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');
}

function updateCheckedCount() {
  const weekKey = 'week' + shoppingWeek;
  const count = checkedItems[weekKey] ? checkedItems[weekKey].length : 0;
  const resetBtn = document.getElementById('resetChecked');
  if(resetBtn) {
    resetBtn.style.display = count > 0 ? 'inline-block' : 'none';
    resetBtn.textContent = `ğŸ”„ ${count}ä»¶ã‚’ãƒªã‚»ãƒƒãƒˆ`;
  }
}

// =====================
// ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
// =====================
function toast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}
</script>
</body>
</html>
